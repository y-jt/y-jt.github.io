<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha256-DfWjNxDkM94fVBWx1H5BMMp0Zq7luBlV8QRcSES7s+0=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"github.com","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.11.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="没有系统学习python，记录使用过程中遇到的小知识点。 跟着b站up主小飞有点东西学习python。">
<meta property="og:type" content="article">
<meta property="og:title" content="pthon_leran">
<meta property="og:url" content="https://github.com/y-jt/y-jt.github.io/2023/04/26/python/Python%E5%AD%A6%E4%B9%A0/index.html">
<meta property="og:site_name" content="得鹿梦鱼">
<meta property="og:description" content="没有系统学习python，记录使用过程中遇到的小知识点。 跟着b站up主小飞有点东西学习python。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://github.com/y-jt/y-jt.github.io/2023/04/26/python/Python%E5%AD%A6%E4%B9%A0/1683881735413.png">
<meta property="og:image" content="https://github.com/y-jt/y-jt.github.io/2023/04/26/python/Python%E5%AD%A6%E4%B9%A0/1685094915241.png">
<meta property="og:image" content="https://github.com/y-jt/y-jt.github.io/2023/04/26/python/Python%E5%AD%A6%E4%B9%A0/1685686395662.png">
<meta property="og:image" content="https://github.com/y-jt/y-jt.github.io/2023/04/26/python/Python%E5%AD%A6%E4%B9%A0/1686125206710.png">
<meta property="og:image" content="https://github.com/y-jt/y-jt.github.io/2023/04/26/python/Python%E5%AD%A6%E4%B9%A0/1686125232523.png">
<meta property="article:published_time" content="2023-04-26T06:13:32.000Z">
<meta property="article:modified_time" content="2023-08-11T09:04:10.211Z">
<meta property="article:author" content="小袁">
<meta property="article:tag" content="-python">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://github.com/y-jt/y-jt.github.io/2023/04/26/python/Python%E5%AD%A6%E4%B9%A0/1683881735413.png">


<link rel="canonical" href="https://github.com/y-jt/y-jt.github.io/2023/04/26/python/Python%E5%AD%A6%E4%B9%A0/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://github.com/y-jt/y-jt.github.io/2023/04/26/python/Python%E5%AD%A6%E4%B9%A0/","path":"2023/04/26/python/Python学习/","title":"pthon_leran"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>pthon_leran | 得鹿梦鱼</title>
  





  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">得鹿梦鱼</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#py"><span class="nav-number">1.</span> <span class="nav-text">py</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95"><span class="nav-number">1.1.</span> <span class="nav-text">1.使用方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-pycharm"><span class="nav-number">1.2.</span> <span class="nav-text">2.pycharm</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-python%E7%B1%BB"><span class="nav-number">1.3.</span> <span class="nav-text">2.python类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-compose"><span class="nav-number">1.4.</span> <span class="nav-text">3.compose</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-print"><span class="nav-number">1.5.</span> <span class="nav-text">4.print</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-%E7%BC%96%E7%A0%81%E9%97%AE%E9%A2%98"><span class="nav-number">1.6.</span> <span class="nav-text">5.编码问题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-python%E8%BD%AC%E4%B9%89%E5%AD%97%E7%AC%A6"><span class="nav-number">1.7.</span> <span class="nav-text">6.python转义字符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C"><span class="nav-number">1.8.</span> <span class="nav-text">7.文件操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-number">1.9.</span> <span class="nav-text">8.lambda表达式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-%E7%B1%BB%E5%9E%8B%E6%8F%90%E7%A4%BA"><span class="nav-number">1.10.</span> <span class="nav-text">9.类型提示</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#10-%E5%8C%85"><span class="nav-number">1.11.</span> <span class="nav-text">10.包</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#11-%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84"><span class="nav-number">1.12.</span> <span class="nav-text">11.目录结构</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%9D%E8%AF%86"><span class="nav-number">2.</span> <span class="nav-text">初识</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="nav-number">2.1.</span> <span class="nav-text">格式化字符串</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#py%E6%89%93%E5%8C%85"><span class="nav-number">3.</span> <span class="nav-text">py打包</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#py%E8%BF%9B%E7%A8%8B"><span class="nav-number">4.</span> <span class="nav-text">py进程</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-py%E6%89%A7%E8%A1%8Ccmd%E5%91%BD%E4%BB%A4"><span class="nav-number">4.1.</span> <span class="nav-text">1.py执行cmd命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E8%BF%9B%E7%A8%8B%E9%80%9A%E4%BF%A1-%E7%AE%A1%E9%81%93"><span class="nav-number">4.2.</span> <span class="nav-text">2.进程通信-管道</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-py%E5%90%AF%E5%8A%A8%E8%BF%9B%E7%A8%8B"><span class="nav-number">4.3.</span> <span class="nav-text">3.py启动进程</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#py-exe%E4%BC%A0%E5%85%A5%E8%BF%90%E8%A1%8C%E5%8F%82%E6%95%B0"><span class="nav-number">5.</span> <span class="nav-text">py exe传入运行参数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#py-qt"><span class="nav-number">6.</span> <span class="nav-text">py qt</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BF%A1%E5%8F%B7"><span class="nav-number">6.1.</span> <span class="nav-text">1.自定义信号</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E7%94%BB%E5%9B%BEqchart"><span class="nav-number">6.2.</span> <span class="nav-text">2.画图qchart</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E5%AE%9A%E6%97%B6%E5%99%A8qtimer"><span class="nav-number">6.3.</span> <span class="nav-text">3.定时器qtimer</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#py-%E7%BA%BF%E7%A8%8B"><span class="nav-number">7.</span> <span class="nav-text">py 线程</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E6%8E%A7%E5%88%B6%E7%BA%BF%E7%A8%8B"><span class="nav-number">7.1.</span> <span class="nav-text">1.控制线程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E7%BA%BF%E7%A8%8Bid"><span class="nav-number">7.2.</span> <span class="nav-text">2.线程id</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E9%80%9A%E8%BF%87%E9%98%9F%E5%88%97%E8%8E%B7%E5%8F%96%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="nav-number">7.3.</span> <span class="nav-text">3.通过队列获取返回值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E9%80%9A%E8%BF%87%E7%BA%BF%E7%A8%8B%E6%B1%A0%E8%8E%B7%E5%8F%96%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="nav-number">7.4.</span> <span class="nav-text">4.通过线程池获取返回值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-%E9%80%9A%E8%BF%87%E9%87%8D%E5%86%99%E7%BA%BF%E7%A8%8B%E5%87%BD%E6%95%B0%E8%8E%B7%E5%8F%96%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="nav-number">7.5.</span> <span class="nav-text">5.通过重写线程函数获取返回值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-%E6%8E%A7%E5%88%B6%E7%BA%BF%E7%A8%8B%E6%95%B0%E9%87%8F"><span class="nav-number">7.6.</span> <span class="nav-text">6.控制线程数量</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#py%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C"><span class="nav-number">8.</span> <span class="nav-text">py文件操作</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E8%BF%94%E5%9B%9E%E6%96%87%E4%BB%B6%E5%A4%B9%E4%B8%8B%E6%9C%80%E6%96%B0%E6%96%87%E4%BB%B6%E6%88%96%E6%96%87%E4%BB%B6%E5%A4%B9"><span class="nav-number">8.1.</span> <span class="nav-text">1.返回文件夹下最新文件或文件夹</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E8%8E%B7%E5%8F%96%E6%96%87%E4%BB%B6%E7%9A%84%E5%B1%9E%E6%80%A7"><span class="nav-number">8.2.</span> <span class="nav-text">2.获取文件的属性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E5%86%99%E5%85%A5yaml"><span class="nav-number">8.3.</span> <span class="nav-text">3.写入yaml</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E8%AF%BB%E5%8F%96excl%E8%A1%A8%E6%A0%BC%E6%8C%87%E5%AE%9A%E8%A1%8C%E6%88%96%E5%88%97"><span class="nav-number">8.4.</span> <span class="nav-text">4.读取excl表格指定行或列</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E8%8E%B7%E5%8F%96%E6%8C%87%E5%AE%9A%E6%96%87%E4%BB%B6%E5%A4%B9%E4%B8%8B%E7%9A%84%E6%96%87%E4%BB%B6"><span class="nav-number">8.5.</span> <span class="nav-text">4.获取指定文件夹下的文件</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#py-tcp"><span class="nav-number">9.</span> <span class="nav-text">py tcp</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E6%B5%8B%E8%AF%95%E6%9F%90%E4%B8%AA%E7%AB%AF%E5%8F%A3%E6%98%AF%E5%90%A6%E6%89%93%E5%BC%80"><span class="nav-number">9.1.</span> <span class="nav-text">1.测试某个端口是否打开</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E5%BB%BA%E7%AB%8Btcp%E8%BF%9E%E6%8E%A5"><span class="nav-number">9.2.</span> <span class="nav-text">2.建立tcp连接</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#py%E8%84%9A%E6%9C%AC"><span class="nav-number">10.</span> <span class="nav-text">py脚本</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E5%B0%86%E6%A0%87%E6%B3%A8%E6%96%87%E4%BB%B6%E4%B8%AD1%E7%B1%BB%E5%88%AB%E7%9A%84%E5%9B%BE%E7%89%87%E4%BB%8E%E6%95%B0%E6%8D%AE%E9%9B%86%E4%B8%AD%E6%8F%90%E5%8F%96%E5%87%BA%E6%9D%A5"><span class="nav-number">10.1.</span> <span class="nav-text">1.将标注文件中1类别的图片从数据集中提取出来</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#py%E9%80%92%E5%BD%92"><span class="nav-number">11.</span> <span class="nav-text">py递归</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E4%BF%AE%E6%94%B9%E7%BC%96%E8%AF%91%E5%99%A8%E6%9C%80%E5%A4%A7%E9%80%92%E5%BD%92%E6%B7%B1%E5%BA%A6"><span class="nav-number">11.1.</span> <span class="nav-text">1.修改编译器最大递归深度</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E9%80%92%E5%BD%92"><span class="nav-number">11.2.</span> <span class="nav-text">2.递归</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#py%E6%A8%A1%E5%9D%97"><span class="nav-number">12.</span> <span class="nav-text">py模块</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-time-amp-datetime"><span class="nav-number">12.1.</span> <span class="nav-text">1.time&amp;datetime</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-random"><span class="nav-number">12.2.</span> <span class="nav-text">2.random</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-os"><span class="nav-number">12.3.</span> <span class="nav-text">3.os</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-shutil"><span class="nav-number">12.4.</span> <span class="nav-text">4.shutil</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-sys"><span class="nav-number">12.5.</span> <span class="nav-text">5.sys</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-configparser%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="nav-number">12.6.</span> <span class="nav-text">6.configparser配置文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-subprocess"><span class="nav-number">12.7.</span> <span class="nav-text">7.subprocess</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-hash-%E5%93%88%E5%B8%8C"><span class="nav-number">12.8.</span> <span class="nav-text">8.hash 哈希</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-re%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-number">12.9.</span> <span class="nav-text">9.re正则表达式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#10-logging%E6%97%A5%E5%BF%97%E7%AE%A1%E7%90%86"><span class="nav-number">12.10.</span> <span class="nav-text">10.logging日志管理</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#py%E5%BA%8F%E5%88%97%E5%8C%96"><span class="nav-number">13.</span> <span class="nav-text">py序列化</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#py%E7%8C%B4%E5%AD%90%E8%A1%A5%E4%B8%81"><span class="nav-number">14.</span> <span class="nav-text">py猴子补丁</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="小袁"
      src="/images/1.png">
  <p class="site-author-name" itemprop="name">小袁</p>
  <div class="site-description" itemprop="description">笔记是记忆的痕迹</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">30</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">25</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">32</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/y-jt" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;y-jt"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>


  <div class="links-of-blogroll site-overview-item animated">
    <div class="links-of-blogroll-title"><i class="fa fa-globe fa-fw"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://www.apiref.com/" title="https:&#x2F;&#x2F;www.apiref.com&#x2F;" rel="noopener" target="_blank">编程API手册</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://labs.openai.com/" title="https:&#x2F;&#x2F;labs.openai.com&#x2F;" rel="noopener" target="_blank">AI绘图</a>
        </li>
    </ul>
  </div>

        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://github.com/y-jt/y-jt.github.io/2023/04/26/python/Python%E5%AD%A6%E4%B9%A0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/1.png">
      <meta itemprop="name" content="小袁">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="得鹿梦鱼">
      <meta itemprop="description" content="笔记是记忆的痕迹">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="pthon_leran | 得鹿梦鱼">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          pthon_leran
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-04-26 14:13:32" itemprop="dateCreated datePublished" datetime="2023-04-26T14:13:32+08:00">2023-04-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-08-11 17:04:10" itemprop="dateModified" datetime="2023-08-11T17:04:10+08:00">2023-08-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/python-%E6%95%99%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">-python -教程</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p>没有系统学习python，记录使用过程中遇到的小知识点。</p>
<p>跟着b站up主<a target="_blank" rel="noopener" href="https://space.bilibili.com/1803865534/channel/collectiondetail?sid=231264&ctype=0">小飞有点东西</a>学习python。</p>
<span id="more"></span>



<h2 id="py"><a href="#py" class="headerlink" title="py"></a>py</h2><h3 id="1-使用方法"><a href="#1-使用方法" class="headerlink" title="1.使用方法"></a>1.使用方法</h3><p>查看一个方法的使用：</p>
<ul>
<li>关注输入输出类型</li>
<li>看官方文档&gt;大于百度</li>
<li>查看需要的参数</li>
</ul>
<p>不知道返回类型时，可以通过debug，或者print(type())</p>
<p>vscod使用conda环境，ctrl shift p， 输入Select Interpreter ,然后选择对应虚拟环境</p>
<h3 id="2-pycharm"><a href="#2-pycharm" class="headerlink" title="2.pycharm"></a>2.pycharm</h3><p>1.选中一个变量名，按alt+j自动选中后续，一键修改</p>
<h3 id="2-python类"><a href="#2-python类" class="headerlink" title="2.python类"></a>2.python类</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#__init__相当于构造函数，实例化时会默认执行</span></span><br><span class="line"><span class="comment">#self相当于this</span></span><br><span class="line"><span class="comment">#__call__调用对象时默认函数，可以不用通过class.function调用</span></span><br><span class="line"><span class="comment">#子类__init__中使用super().__int__()，首先执行父类的__init__,然后接自定义操作</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">__int__</span>(<span class="params">self</span>):</span><br><span class="line">	<span class="built_in">super</span>().__int__()</span><br><span class="line">    ···</span><br><span class="line">    0011 <span class="number">1111</span> 0111 <span class="number">1101</span></span><br></pre></td></tr></table></figure>

<h3 id="3-compose"><a href="#3-compose" class="headerlink" title="3.compose"></a>3.compose</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 第一种直接赋值，第二种缩放</span></span><br><span class="line">trans_resize = transforms.Resize((<span class="number">512</span>, <span class="number">512</span>))</span><br><span class="line">trans_resize1 = transforms.Resize(<span class="number">200</span>)</span><br><span class="line"><span class="comment"># compose相当于组合，前一个函数的输出与后一个函数的输入必须相同</span></span><br><span class="line"><span class="comment"># 等价于  temp = trans_resize1(img)</span></span><br><span class="line"><span class="comment">#        img_resize = tensor(temp)</span></span><br><span class="line">trans_compose = transforms.Compose([trans_resize1,tensor])</span><br><span class="line">img_resize = trans_compose(img)</span><br></pre></td></tr></table></figure>



<h3 id="4-print"><a href="#4-print" class="headerlink" title="4.print"></a>4.print</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 不换行</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;i&#125;</span>*<span class="subst">&#123;j+<span class="number">1</span>&#125;</span>=<span class="subst">&#123;i*(j+<span class="number">1</span>)&#125;</span>&#x27;</span>,end=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"><span class="comment"># 输出颜色格式设置</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">显示方式;前景颜色;背景颜色，这3个参数都为可选参数，选择自己需要的即可，而且顺序不是固定的，但建</span></span><br><span class="line"><span class="string">议按照默认顺序书写，结尾的\033[0m一定要有，不然会影响之后的打印。</span></span><br><span class="line"><span class="string">注：也可以在input()的提示性输出中使用</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\033[显示方式;前景颜色;背景颜色m......\033[0m&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;\033[33m输入有误，请重新输入！\033[0m&quot;</span>) <span class="comment"># 黄色字体</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;\033[31;43m输入有误，请重新输入！\033[0m&quot;</span>) <span class="comment"># 红字黄底</span></span><br></pre></td></tr></table></figure>

<p><strong>显示方式</strong></p>
<table>
<thead>
<tr>
<th>意义</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>默认</td>
<td>0</td>
</tr>
<tr>
<td>高亮显示</td>
<td>1</td>
</tr>
<tr>
<td>下划线</td>
<td>4</td>
</tr>
<tr>
<td>闪烁</td>
<td>5</td>
</tr>
<tr>
<td>反白显示</td>
<td>7</td>
</tr>
<tr>
<td>不可见</td>
<td>8</td>
</tr>
</tbody></table>
<p><strong>颜色</strong></p>
<table>
<thead>
<tr>
<th>颜色</th>
<th>前景色</th>
<th>背景色</th>
</tr>
</thead>
<tbody><tr>
<td>黑色</td>
<td>30</td>
<td>40</td>
</tr>
<tr>
<td>红色</td>
<td>31</td>
<td>41</td>
</tr>
<tr>
<td>绿色</td>
<td>32</td>
<td>42</td>
</tr>
<tr>
<td>黄色</td>
<td>33</td>
<td>43</td>
</tr>
<tr>
<td>蓝色</td>
<td>34</td>
<td>44</td>
</tr>
<tr>
<td>紫红色</td>
<td>35</td>
<td>45</td>
</tr>
<tr>
<td>青蓝色</td>
<td>36</td>
<td>46</td>
</tr>
<tr>
<td>白色</td>
<td>37</td>
<td>47</td>
</tr>
</tbody></table>
<h3 id="5-编码问题"><a href="#5-编码问题" class="headerlink" title="5.编码问题"></a><strong>5.编码问</strong>题</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># coding:gbk</span></span><br><span class="line"><span class="comment">#(带#)表示python解释器以gbk编码读取文件，读写格式一致才不会乱码</span></span><br><span class="line"><span class="comment"># 注释</span></span><br><span class="line">a=<span class="string">u&#x27;人&#x27;</span><span class="comment">#强制Unicode编码</span></span><br><span class="line">res=a.encode(<span class="string">&#x27;gbk&#x27;</span>)<span class="comment">#encode 将r通过gbk编码成二进制</span></span><br><span class="line"><span class="built_in">print</span>(res,<span class="built_in">type</span>(res))</span><br><span class="line"><span class="built_in">print</span>(res.decode(<span class="string">&#x27;gbk&#x27;</span>))<span class="comment">#将二进制通过gbk解码</span></span><br></pre></td></tr></table></figure>

<h3 id="6-python转义字符"><a href="#6-python转义字符" class="headerlink" title="6.python转义字符"></a>6.python转义字符</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">字符串前加r  防止被转义，比如路径的\，可以加r解决</span><br><span class="line"><span class="comment"># \续行符 \\反斜杠 \&#x27;单引号 \&quot;双引号 \000空 \f换页	\yyy(y是八进制数,\110代表H)</span></span><br><span class="line"><span class="comment"># \a响铃 \b退格一个字符 \n换行 \v纵向制表符 \t横向制表符 \r回车</span></span><br><span class="line"><span class="comment"># \xyy  \x开头  yy16进制的字符</span></span><br></pre></td></tr></table></figure>

<h3 id="7-文件操作"><a href="#7-文件操作" class="headerlink" title="7.文件操作"></a>7.文件操作</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># coding:utf-8</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">	r读取不能写入，a+读取，写入光标在开头，如果文件不存在报错</span></span><br><span class="line"><span class="string">    w写入，不能读取，w+写入，读取光标在最后,注意w w+都会清空已存在文件，不存在则新建</span></span><br><span class="line"><span class="string">    a在文件末尾写入，不存在新建 r+末尾写入，读取光标在最后</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    写内容的模式,t:读写都是以字符串(Unicode),指定参数encoding编码成什么格式</span></span><br><span class="line"><span class="string">    			b:二进制模式(图片 视频)S</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    seek移动文件光标位置，f.seek(offset, whence),f指的是file，offset偏移字符，whence,0开头，1当前，2末尾</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">    select_action = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;1--登录\t2--注册\n&#x27;</span>))</span><br><span class="line">    <span class="keyword">if</span> select_action==<span class="number">1</span>:</span><br><span class="line">        log_num = <span class="number">4</span></span><br><span class="line">        <span class="keyword">while</span> log_num:</span><br><span class="line">            username = <span class="built_in">input</span>(<span class="string">&#x27;请输入账号:&gt;&gt;&gt;&#x27;</span>)</span><br><span class="line">            password = <span class="built_in">input</span>(<span class="string">&#x27;请输入密码:&gt;&gt;&gt;&#x27;</span>)</span><br><span class="line">            <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">r&#x27;C:\Users\yjt\Desktop\1.txt&#x27;</span>, mode=<span class="string">&#x27;rt&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">                <span class="keyword">for</span> line <span class="keyword">in</span> f.readlines():</span><br><span class="line">                    line=line.strip()</span><br><span class="line">                    name, pword = line.split(<span class="string">&#x27;----&#x27;</span>)</span><br><span class="line">                    <span class="keyword">if</span> name == username <span class="keyword">and</span> pword == password:</span><br><span class="line">                        <span class="built_in">print</span>(<span class="string">&#x27;登录成功!&#x27;</span>)</span><br><span class="line">                        log_num=<span class="number">0</span></span><br><span class="line">                        <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    log_num -= <span class="number">1</span></span><br><span class="line">                    <span class="built_in">print</span>(<span class="string">&#x27;账号或密码错误，剩余登录&#123;&#125;次数&#x27;</span>.<span class="built_in">format</span>(log_num))</span><br><span class="line">    <span class="keyword">if</span> select_action==<span class="number">2</span>:</span><br><span class="line">        <span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">            username = <span class="built_in">input</span>(<span class="string">&#x27;请输入账号:&gt;&gt;&gt;&#x27;</span>)</span><br><span class="line">            password = <span class="built_in">input</span>(<span class="string">&#x27;请输入密码:&gt;&gt;&gt;&#x27;</span>)</span><br><span class="line">            <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">r&#x27;C:\Users\yjt\Desktop\1.txt&#x27;</span>, mode=<span class="string">&#x27;a+t&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">                f.seek(<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line">                <span class="keyword">for</span> line <span class="keyword">in</span> f.readlines():</span><br><span class="line">                    line=line.strip()</span><br><span class="line">                    name, pword = line.split(<span class="string">&#x27;----&#x27;</span>)</span><br><span class="line">                    <span class="keyword">if</span> name == username:</span><br><span class="line">                        <span class="built_in">print</span>(<span class="string">&#x27;用户名已被注册,请重新输入&#x27;</span>)</span><br><span class="line">                        <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    f.write(<span class="string">&#x27;&#123;&#125;----&#123;&#125;\n&#x27;</span>.<span class="built_in">format</span>(username, password))</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">	# 文本修改的两种方式</span></span><br><span class="line"><span class="string">	# 1. 通过read全部读入修改写入(文本编辑器)</span></span><br><span class="line"><span class="string">	# 2. 一行一行读入修改，写入新文件，删除源文件，修改新文件名字</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">r&#x27;C:\Users\yjt\Desktop\1.txt&#x27;</span>,mode=<span class="string">&#x27;rt&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>)<span class="keyword">as</span> f:</span><br><span class="line">    data = f.read()</span><br><span class="line">    new_data = data.replace(<span class="string">&#x27;bbbb&#x27;</span>,<span class="string">&#x27;bbb&#x27;</span>)</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">r&#x27;C:\Users\yjt\Desktop\1.txt&#x27;</span>,mode=<span class="string">&#x27;wt&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>)<span class="keyword">as</span> f:</span><br><span class="line">    f.write(new_data)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">r&#x27;C:\Users\yjt\Desktop\1.txt&#x27;</span>,mode=<span class="string">&#x27;rt&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>)<span class="keyword">as</span> f1,\</span><br><span class="line"><span class="built_in">open</span>(<span class="string">r&#x27;C:\Users\yjt\Desktop\1.txt.swap&#x27;</span>,mode=<span class="string">&#x27;wt&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>)<span class="keyword">as</span> f2:</span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> f1:</span><br><span class="line">        new_line=line.replace(<span class="string">&quot;bbb&quot;</span>,<span class="string">&quot;bbbb&quot;</span>)</span><br><span class="line">        f2.write(new_line)</span><br><span class="line">os.remove(<span class="string">r&#x27;C:\Users\yjt\Desktop\1.txt&#x27;</span>)</span><br><span class="line">os.rename(<span class="string">r&#x27;C:\Users\yjt\Desktop\1.txt.swap&#x27;</span>,<span class="string">r&#x27;C:\Users\yjt\Desktop\1.txt&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="8-lambda表达式"><a href="#8-lambda表达式" class="headerlink" title="8.lambda表达式"></a>8.lambda表达式</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">res=(<span class="keyword">lambda</span> x,y=<span class="number">1</span>:x+y)(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(res)<span class="comment"># 3</span></span><br><span class="line"></span><br><span class="line">r=&#123;</span><br><span class="line">    <span class="string">&#x27;a&#x27;</span>:<span class="number">100</span>,</span><br><span class="line">    <span class="string">&#x27;b&#x27;</span>:<span class="number">201</span>,</span><br><span class="line">    <span class="string">&#x27;c&#x27;</span>:<span class="number">301</span>,</span><br><span class="line">    <span class="string">&#x27;d&#x27;</span>:<span class="number">200</span>,</span><br><span class="line">    <span class="string">&#x27;e&#x27;</span>:<span class="number">301</span>,</span><br><span class="line">    <span class="string">&#x27;f&#x27;</span>:<span class="number">111</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">max</span>(r))<span class="comment"># max返回key字符最大</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">max</span>(r,key=<span class="keyword">lambda</span> k:r[k]))<span class="comment"># 使用value排序</span></span><br><span class="line"></span><br><span class="line">l=[<span class="number">3</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">9</span>,<span class="number">2</span>,<span class="number">6</span>]</span><br><span class="line">l.sort(reverse=<span class="literal">True</span>)<span class="comment">#  默认false升序</span></span><br><span class="line">l=[(<span class="number">1</span>,<span class="number">2</span>),(<span class="number">3</span>,<span class="number">4</span>),(<span class="number">2</span>,<span class="number">1</span>),(<span class="number">4</span>,<span class="number">3</span>)]</span><br><span class="line">l.sort(key=<span class="keyword">lambda</span> item:item[<span class="number">1</span>])<span class="comment"># 使用列表内元组的第二个值排序</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># sort 列表排序，sorted所有可迭代对象</span></span><br><span class="line"><span class="comment"># sort会改变原来的列表，sorted不会改变可迭代对象，并返回一个新列表</span></span><br><span class="line"></span><br><span class="line">l=[<span class="string">&#x27;康师傅&#x27;</span>,<span class="string">&#x27;同一&#x27;</span>,<span class="string">&#x27;大今野&#x27;</span>,<span class="string">&#x27;白象&#x27;</span>]</span><br><span class="line">new_l = (name+<span class="string">&#x27;老坛&#x27;</span> <span class="keyword">for</span> name <span class="keyword">in</span> l)<span class="comment"># 列表生成器</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,<span class="number">4</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">next</span>(new_l))</span><br><span class="line">    </span><br><span class="line">res=<span class="built_in">map</span>(<span class="keyword">lambda</span> name:name+<span class="string">&#x27;酸菜&#x27;</span>,l)<span class="comment"># map映射</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">next</span>(res))</span><br></pre></td></tr></table></figure>

<h3 id="9-类型提示"><a href="#9-类型提示" class="headerlink" title="9.类型提示"></a>9.类型提示</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># py 解释性强类型动态</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">func</span>(<span class="params">name: <span class="built_in">str</span>, age: <span class="built_in">int</span> = <span class="number">18</span></span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">    <span class="built_in">print</span>(name)</span><br><span class="line">    <span class="built_in">print</span>(age)</span><br><span class="line">    <span class="keyword">return</span> age</span><br><span class="line">func(<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(func.__annotations__)<span class="comment"># 查看类型提示</span></span><br></pre></td></tr></table></figure>

<h3 id="10-包"><a href="#10-包" class="headerlink" title="10.包"></a>10.包</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 一个文件作为包导入时__name__属性为model，作为执行文件时__name__为main</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 导入包时，会执行一遍文件</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查找顺序：1.内存 2.硬盘（sys.path里面的路径，可以将存放模块的路径append进sysy.path）</span></span><br><span class="line">sys.path <span class="comment"># 存放1当前执行文件路径，2项目路径</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 包是一个包含__init__的文件夹，__init__中通过绝对导入对外的全局变量、函数、类等</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 通过from ··· import ··· 导入的变量只与定义有关，在源文件中修改了需要重新导入</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 在.的左边是包</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">	1.新建一个带__init__.py的文件夹</span></span><br><span class="line"><span class="string">	2.__init__.py写入:</span></span><br><span class="line"><span class="string">		from pack.chat import chat_func,x #绝对导入，pack就是包名，chat是里面的模块py文件，chat_func,x是模块中的全局变量和函数</span></span><br><span class="line"><span class="string">		from .chat import chat_func #相对导入，同级使用.  上级使用..</span></span><br><span class="line"><span class="string">	3.创建模块chat.py</span></span><br><span class="line"><span class="string">		x=100</span></span><br><span class="line"><span class="string">		def chat_func():</span></span><br><span class="line"><span class="string">    	print(&#x27;chat测试&#x27;)</span></span><br><span class="line"><span class="string">	4.在需要用的地方		# 注意包需要通过sys.path找到才能import</span></span><br><span class="line"><span class="string">		from pack import x,chat_func</span></span><br><span class="line"><span class="string">		chat_func()</span></span><br><span class="line"><span class="string">		print(x)</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="11-目录结构"><a href="#11-目录结构" class="headerlink" title="11.目录结构"></a>11.目录结构</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">project</span></span><br><span class="line"><span class="string">    api   </span></span><br><span class="line"><span class="string">    bin              启动文件，安装部署打包的脚本等</span></span><br><span class="line"><span class="string">        run.py</span></span><br><span class="line"><span class="string">        setup.py</span></span><br><span class="line"><span class="string">    conf             配置文件</span></span><br><span class="line"><span class="string">    core             核心代码</span></span><br><span class="line"><span class="string">    db               数据库处理代码</span></span><br><span class="line"><span class="string">    lib              常用模块</span></span><br><span class="line"><span class="string">    log              日志</span></span><br><span class="line"><span class="string">    requirements.txt 环境</span></span><br><span class="line"><span class="string">    readme.md        项目介绍说明</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 项目将项目根目录添加进sys.path</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    __file__获取当前文件的绝对路径</span></span><br><span class="line"><span class="string">    os.path.dirname(),获取路径的父目录</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    时间格式化    time.strftime(&#x27;&amp;Y-%m-%d %H:%M:%S&#x27;)</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>



<h2 id="初识"><a href="#初识" class="headerlink" title="初识"></a>初识</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cmd中敲python首先在当前文件夹下找这个指令，没有就会去环境变量中从上往下找，所以多版本python可以通过分别在不同文件夹下，复制python.exe文件并重新命名，在分别将不同的目录添加到环境变量区分。</span><br><span class="line">代码没有问题的话，不用区分文件的后缀名，例如.txt和.py等效。</span><br></pre></td></tr></table></figure>

<blockquote>
<blockquote>
<p>id	输出内存的映射，不是实际的堆内存地址</p>
<p>python解释器带小整数池(-5~256),这些值不在重新开辟内存，字符串也有</p>
<p>type	输出变量的类型</p>
<p>is	判断两个变量的内存地址是否相同</p>
<p>python没有常量，约定变量名全大写为常量(但还是可变)</p>
<p>‘’,””,等效，””””””,’’’’’’没有左值时，是多行注释，a&#x3D;”””aaaa”””定义字符串</p>
<p>python单引号或双引号是成对出现的，但是区分’”,转义\</p>
<p>字符串与字符串可直接+（拼接），也可以*(代表重复多少遍)</p>
<p>列表[],取值[索引]，0,1,2是正序取1,2,3个元素，-1，-2，-3是逆序取倒数第1 2 3个元素</p>
<p>字典{},key:value,取值[key]，列表 字典可以相互嵌套</p>
<p>bool类型，0 None ‘’ [] {}为FALSE。其他都为true</p>
<p><img src="1683881735413.png" alt="1683881735413"></p>
<p>python input把接收到的所有信息保存为str</p>
<p>python 强制类型转换 int(value) 只能转换纯数字，12.3转换不了</p>
<p>元组，通过()定义  内存地址不可变，但是嵌套可变类型中的数据内修改</p>
<p>字典 {} dict({}) dict{a&#x3D;1,b&#x3D;2}，</p>
</blockquote>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 指向同一块内存，id输出内存的映射，不是实际的堆内存地址</span></span><br><span class="line"><span class="comment"># python解释器带小整数池(-5~256),为这些值不在重新开辟内存，字符串也有</span></span><br><span class="line">a = <span class="number">100</span></span><br><span class="line">b = a</span><br><span class="line">c = a</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(a))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(b))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(c))</span><br><span class="line"><span class="comment"># 输出变量的类型</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(c))</span><br><span class="line"><span class="comment"># is判断两个变量的内存地址是否相同</span></span><br><span class="line"><span class="comment"># 如果变量处于优化池则一直相同</span></span><br><span class="line"><span class="comment"># ==判断变量的值是否相同</span></span><br><span class="line"><span class="comment"># is为true，==结果必为true</span></span><br><span class="line">b = <span class="number">123</span></span><br><span class="line">c = b</span><br><span class="line"><span class="built_in">print</span>(b,c)</span><br><span class="line"><span class="built_in">print</span>(b <span class="keyword">is</span> c)</span><br><span class="line"><span class="built_in">print</span>(b == c)</span><br><span class="line"></span><br><span class="line">name = <span class="string">&#x27;my name is&quot;张三&quot;&#x27;</span></span><br><span class="line">name = <span class="string">&#x27;my name is\&#x27;张三\&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">l = [<span class="number">73</span>,<span class="number">3.5</span>,<span class="string">&#x27;张三&#x27;</span>,[<span class="string">&#x27;1&#x27;</span>,<span class="number">22</span>]]</span><br><span class="line"><span class="built_in">print</span>(l[<span class="number">2</span>])</span><br><span class="line"><span class="built_in">print</span>(l[<span class="number">3</span>][<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">person = [</span><br><span class="line">    [<span class="string">&#x27;张三&#x27;</span>,<span class="number">18</span>,<span class="number">10000</span>,[<span class="string">&#x27;吃&#x27;</span>,<span class="string">&#x27;喝&#x27;</span>,<span class="string">&#x27;嫖&#x27;</span>]]，</span><br><span class="line">    [<span class="string">&#x27;李四&#x27;</span>,<span class="number">19</span>,<span class="number">9000</span>,[<span class="string">&#x27;吃1&#x27;</span>,<span class="string">&#x27;喝1&#x27;</span>,<span class="string">&#x27;嫖1&#x27;</span>]],</span><br><span class="line">    [<span class="string">&#x27;王五&#x27;</span>,<span class="number">20</span>,<span class="number">8000</span>,[<span class="string">&#x27;吃2&#x27;</span>,<span class="string">&#x27;喝2&#x27;</span>,<span class="string">&#x27;嫖2&#x27;</span>]]</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<h3 id="格式化字符串"><a href="#格式化字符串" class="headerlink" title="格式化字符串"></a>格式化字符串</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.%</span></span><br><span class="line">iffo = <span class="string">&#x27;my name is %s, I am from %s.&#x27;</span>%(value1,value2) <span class="comment"># 可以是值，也能是变量,位置一一对应</span></span><br><span class="line">iffo = <span class="string">&#x27;my name is %(name)s, I am from %(home)s.&#x27;</span>%(<span class="string">&#x27;home&#x27;</span>:value1,<span class="string">&#x27;name&#x27;</span>:value2)<span class="comment"># key值对应</span></span><br><span class="line">iffo = <span class="string">&#x27;my age is %d&#x27;</span> <span class="comment"># %d只能接收整型，%s所有类型 当做str处理</span></span><br><span class="line"><span class="comment"># 2.format</span></span><br><span class="line"><span class="comment"># join</span></span><br><span class="line"><span class="comment"># +</span></span><br></pre></td></tr></table></figure>

<p><img src="1685094915241.png" alt="1685094915241"></p>
<h2 id="py打包"><a href="#py打包" class="headerlink" title="py打包"></a>py打包</h2><p>pycharm终端启用环境的方法：</p>
<p><img src="1685686395662.png" alt="1685686395662"></p>
<p>终端-&gt;选择cmd-&gt;activate <env_name>（使用的conda）</env_name></p>
<ul>
<li><p>下载打包需要的包</p>
<p>  ​	pip install pyinstaller</p>
</li>
<li><p>在当前目录下启动环境</p>
</li>
<li><p>pyinstaller -F main.py(main.py为程序执行文件)</p>
</li>
</ul>
<p>执行完毕会发现生成了 3 个文件夹：dist，build，samp.spec文件</p>
<p>在dist里面我们可以看到生成了一个exe可执行文件。</p>
<p>要把生成的exe文件从dist文件中移出来，和原主文件在同路径下，保持资源文件的相对路径</p>
<p><strong>bug</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 这样会引起程序运行后闪退，使用下面导包的方式，原因未知</span></span><br><span class="line"><span class="keyword">from</span> PyQt5.Qt <span class="keyword">import</span> QWidget,QLabel</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> QFont</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QWidget, QLabel</span><br></pre></td></tr></table></figure>



<h2 id="py进程"><a href="#py进程" class="headerlink" title="py进程"></a>py进程</h2><h3 id="1-py执行cmd命令"><a href="#1-py执行cmd命令" class="headerlink" title="1.py执行cmd命令"></a>1.py执行cmd命令</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PyQt5.Qt <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> subprocess <span class="keyword">import</span> call</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">main_widget</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line">        self.initUI()</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">initUI</span>(<span class="params">self</span>):</span><br><span class="line">        btn = QPushButton(<span class="string">&#x27;Click me&#x27;</span>, self)</span><br><span class="line">        btn.move(<span class="number">50</span>, <span class="number">50</span>)</span><br><span class="line">        btn.clicked.connect(self.run_script)</span><br><span class="line"></span><br><span class="line">        self.setGeometry(<span class="number">300</span>, <span class="number">300</span>, <span class="number">250</span>, <span class="number">150</span>)</span><br><span class="line">        self.setWindowTitle(<span class="string">&#x27;Run script on button click&#x27;</span>)</span><br><span class="line">        self.show()</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">run_script</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment">#call([&#x27;python&#x27;,&#x27;./main.py&#x27;])</span></span><br><span class="line">        <span class="comment"># popen不等待子线程 run call等待子线程</span></span><br><span class="line">        <span class="comment">#subprocess</span></span><br><span class="line">        os.system(<span class="string">&#x27;main.exe&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    ex = main_widget()</span><br><span class="line">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>

<h3 id="2-进程通信-管道"><a href="#2-进程通信-管道" class="headerlink" title="2.进程通信-管道"></a>2.进程通信-管道</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> subprocess</span><br><span class="line"></span><br><span class="line">title = <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">_listener</span>():</span><br><span class="line">    <span class="keyword">global</span> title</span><br><span class="line">    <span class="comment"># 如果您还未安装you-get脚手架 请先执行 pip install you-get 或 pip3 install you-get</span></span><br><span class="line">    <span class="comment"># 尝试直接在 Terminal 中运行 `you-get [url]` 查看区别</span></span><br><span class="line">    <span class="comment"># you-get 将嗅探目标链接下的影视资源对象，并保存至当前目录下</span></span><br><span class="line">    cmd = <span class="string">&quot;you-get https://www.bilibili.com/video/BV1Yv41147QK&quot;</span>.split(<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">    p = subprocess.Popen(</span><br><span class="line">        cmd,</span><br><span class="line">        stdin=subprocess.PIPE,</span><br><span class="line">        stdout=subprocess.PIPE,</span><br><span class="line">        stderr=subprocess.STDOUT,</span><br><span class="line">        universal_newlines=<span class="literal">True</span>,</span><br><span class="line">        encoding=<span class="string">&#x27;utf8&#x27;</span>,</span><br><span class="line">        bufsize=<span class="number">1</span></span><br><span class="line">    )</span><br><span class="line">    <span class="keyword">while</span> subprocess.Popen.poll(p) <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">        stream = p.stdout.readline()<span class="comment"># 没有返回值会阻塞线程，这儿是while循环 不影响</span></span><br><span class="line">        <span class="built_in">print</span>(stream)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 仅做演示，首次下载时捕获视频文件名</span></span><br><span class="line">        <span class="keyword">if</span> title == <span class="string">&quot;&quot;</span> <span class="keyword">and</span> stream.startswith(<span class="string">&quot;Downloading&quot;</span>):</span><br><span class="line">            title = stream.split(<span class="string">&#x27; &#x27;</span>)[<span class="number">1</span>]</span><br><span class="line">            <span class="built_in">print</span>(title)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">demo</span>():</span><br><span class="line">    _listener()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 仅作演示，自动打开下载好的视频</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        os.startfile(<span class="string">f&#x27;<span class="subst">&#123;title&#125;</span>&#x27;</span>)</span><br><span class="line">    <span class="keyword">except</span> (FileNotFoundError, FileExistsError):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    demo()</span><br></pre></td></tr></table></figure>

<h3 id="3-py启动进程"><a href="#3-py启动进程" class="headerlink" title="3.py启动进程"></a>3.py启动进程</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#         向进程传入函数</span></span><br><span class="line"><span class="keyword">from</span> multiprocessing <span class="keyword">import</span> Process</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">work</span>(<span class="params">name</span>):  <span class="comment">#定义一个函数</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;task &lt;%s&gt; is runing&#x27;</span> %name)</span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;task &lt;%s&gt; is aaaaa&#x27;</span> %name)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    p1=Process(target=work,args=(<span class="string">&#x27;yxwang&#x27;</span>,)) <span class="comment">#产生一个进程对象，target后边加上要执行的函数名称。这里args跟一个元组</span></span><br><span class="line">    p2=Process(target=work,kwargs=&#123;<span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;user01&#x27;</span>&#125;)  <span class="comment">#也可以用kwargs跟字典的方式。</span></span><br><span class="line">    p1.start()  <span class="comment">#执行。 等于在当前程序下又运行了一个子进程。</span></span><br><span class="line">    p2.start()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;qqqqqqqqqq&#x27;</span>)</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment">#        重写进程的run函数</span></span><br><span class="line"><span class="keyword">from</span> multiprocessing <span class="keyword">import</span> Process</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Myprocess</span>(<span class="title class_ inherited__">Process</span>):  <span class="comment">#继承Process类</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()  <span class="comment">#调用父类中的方法。</span></span><br><span class="line">        self.name=name</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">run</span>(<span class="params">self</span>):   <span class="comment">#必须要有个run的方法</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;task &lt;%s&gt; is runing&#x27;</span> % self.name)</span><br><span class="line">        time.sleep(<span class="number">1</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;task &lt;%s&gt; is aaaaa&#x27;</span> % self.name)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    p=Myprocess(<span class="string">&#x27;egon&#x27;</span>)  <span class="comment">#得到一个对象</span></span><br><span class="line">    p.start()  <span class="comment">#运行</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;TTTTTT&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="py-exe传入运行参数"><a href="#py-exe传入运行参数" class="headerlink" title="py exe传入运行参数"></a>py exe传入运行参数</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">subprocess.Popen(<span class="string">&#x27;test.exe --weights &#123;&#125; --cfg &#123;&#125; --data &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(config_t[<span class="string">&#x27;weights&#x27;</span>],config_t[<span class="string">&#x27;cfg&#x27;</span>],config_t[<span class="string">&#x27;data&#x27;</span>]))</span><br><span class="line"><span class="keyword">import</span> argparse </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>(<span class="params">opt</span>):</span><br><span class="line">    <span class="comment"># Checks</span></span><br><span class="line">    <span class="built_in">print</span>(opt.weights)</span><br><span class="line">    <span class="built_in">print</span>(opt.cfg)</span><br><span class="line">    <span class="built_in">print</span>(opt.data)</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">parse_opt</span>(<span class="params">known=<span class="literal">False</span></span>):</span><br><span class="line">    parser = argparse.ArgumentParser()</span><br><span class="line">    parser.add_argument(<span class="string">&#x27;--weights&#x27;</span>, <span class="built_in">type</span>=<span class="built_in">str</span>, default=<span class="string">&#x27;aaaa&#x27;</span>, <span class="built_in">help</span>=<span class="string">&#x27;initial weights path&#x27;</span>)</span><br><span class="line">    parser.add_argument(<span class="string">&#x27;--cfg&#x27;</span>, <span class="built_in">type</span>=<span class="built_in">str</span>, default=<span class="string">&#x27;bbb&#x27;</span>, <span class="built_in">help</span>=<span class="string">&#x27;model.yaml path&#x27;</span>)</span><br><span class="line">    parser.add_argument(<span class="string">&#x27;--data&#x27;</span>, <span class="built_in">type</span>=<span class="built_in">str</span>, default=<span class="string">&#x27;ccc&#x27;</span>, <span class="built_in">help</span>=<span class="string">&#x27;dataset.yaml path&#x27;</span>)</span><br><span class="line">    opt = parser.parse_known_args()[<span class="number">0</span>] <span class="keyword">if</span> known <span class="keyword">else</span> parser.parse_args()</span><br><span class="line">    <span class="keyword">return</span> opt</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    opt = parse_opt()</span><br><span class="line">    main(opt)</span><br></pre></td></tr></table></figure>

<h2 id="py-qt"><a href="#py-qt" class="headerlink" title="py qt"></a>py qt</h2><h3 id="1-自定义信号"><a href="#1-自定义信号" class="headerlink" title="1.自定义信号"></a>1.自定义信号</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">main_widget</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">    signal_finish=pyqtSignal()<span class="comment"># 必须在__init__外，不然会报错，可以带参</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        self.signal_finish.connect(self.train_finish)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">train_finish</span>(<span class="params">self</span>):</span><br><span class="line">        ...<span class="comment"># 槽函数的实现</span></span><br><span class="line"><span class="comment"># 需要的位置 self.signal_finish.emit()</span></span><br></pre></td></tr></table></figure>

<h3 id="2-画图qchart"><a href="#2-画图qchart" class="headerlink" title="2.画图qchart"></a>2.画图qchart</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> Qt</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtChart <span class="keyword">import</span> QSplineSeries, QLineSeries, QChart, QChartView, QValueAxis</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MySplineWindow</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, parent=<span class="literal">None</span></span>):</span><br><span class="line">        <span class="built_in">super</span>(MySplineWindow, self).__init__(parent)</span><br><span class="line">        self.setWindowTitle(<span class="string">&quot;曲线图表演示&quot;</span>)</span><br><span class="line">		<span class="comment"># 初始化</span></span><br><span class="line">        chart = QChart()</span><br><span class="line">        <span class="comment"># 设置布局、图、</span></span><br><span class="line">        chart.setMargins(QMargins(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>))</span><br><span class="line">        <span class="comment"># 隐藏图例</span></span><br><span class="line">        chart.legend().hide()</span><br><span class="line">        <span class="comment"># 数据点</span></span><br><span class="line">        spline = QSplineSeries()</span><br><span class="line">        <span class="comment"># 也可以在后面需要的地方动态添加数据点进来</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">            spline.append(i,<span class="built_in">round</span>(random.random()*<span class="number">100</span>))</span><br><span class="line">        <span class="comment"># 添加到图中</span></span><br><span class="line">        chart.addSeries(spline)</span><br><span class="line">        <span class="comment"># 坐标轴</span></span><br><span class="line">        axis_x = QValueAxis()</span><br><span class="line">        axis_x.setLabelFormat(<span class="string">&quot;%d&quot;</span>)</span><br><span class="line">        chart.addAxis(axis_x, Qt.AlignBottom)</span><br><span class="line">        axis_x.setRange(<span class="number">0</span>,<span class="number">20</span>)</span><br><span class="line">        axis_y = QValueAxis()</span><br><span class="line">        axis_y.setLabelFormat(<span class="string">&quot;%.5f&quot;</span>)</span><br><span class="line">        chart.addAxis(axis_y, Qt.AlignLeft)</span><br><span class="line">        axis_y.setRange(<span class="number">0</span>,<span class="number">100.0</span>)</span><br><span class="line">        <span class="comment">#添加坐标轴</span></span><br><span class="line">        spline.attachAxis(axis_y)</span><br><span class="line">        spline.attachAxis(axis_x)</span><br><span class="line"></span><br><span class="line">        chartView = QChartView()</span><br><span class="line">        chartView.setChart(chart)</span><br><span class="line">        chartView.setRenderHint(QPainter.Antialiasing)<span class="comment"># 设置反走样，平滑</span></span><br><span class="line"></span><br><span class="line">        vbox = QVBoxLayout()</span><br><span class="line">        vbox.addWidget(chartView)</span><br><span class="line">        self.setLayout(vbox)</span><br><span class="line">        epoch=[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>,<span class="number">14</span>,<span class="number">15</span>,<span class="number">16</span>,<span class="number">17</span>,<span class="number">18</span>,<span class="number">19</span>]</span><br><span class="line">        loss=[n+<span class="number">0.3</span> <span class="keyword">for</span> n <span class="keyword">in</span> epoch]</span><br><span class="line">        <span class="keyword">while</span> spline.__len__()&lt;epoch.__len__():</span><br><span class="line">            spline.append(epoch[<span class="built_in">len</span>(spline)],loss[<span class="built_in">len</span>(spline)])</span><br><span class="line">        <span class="built_in">print</span>(<span class="built_in">len</span>(spline))</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    win = MySplineWindow()</span><br><span class="line">    win.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>

<h3 id="3-定时器qtimer"><a href="#3-定时器qtimer" class="headerlink" title="3.定时器qtimer"></a>3.定时器qtimer</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> QTimer</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QWidget,QApplication</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">main_widget</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line">        self.ia=<span class="number">0</span></span><br><span class="line">        self.timera = QTimer(self)</span><br><span class="line">        self.timera.timeout.connect(self.running_state)</span><br><span class="line">        self.timera.start(<span class="number">2000</span>)  <span class="comment"># 启动</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">running_state</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">if</span> self.ia==<span class="number">3</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;结束&#x27;</span>)</span><br><span class="line">            self.timera.stop()<span class="comment"># 暂停</span></span><br><span class="line">            self.timera.killTimer()<span class="comment"># 结束</span></span><br><span class="line">            self.start_timer()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;这是第\t<span class="subst">&#123;self.ia&#125;</span>次&#x27;</span>)</span><br><span class="line">        self.ia=self.ia+<span class="number">1</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">start_timer</span>(<span class="params">self</span>):</span><br><span class="line">        time.sleep(<span class="number">3</span>)</span><br><span class="line">        self.ia=<span class="number">0</span></span><br><span class="line">        self.timera.start(<span class="number">500</span>)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    w=main_widget()</span><br><span class="line">    app.exec_()</span><br><span class="line">    </span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        self.initUI()</span></span><br><span class="line"><span class="string">        </span></span><br><span class="line"><span class="string">    def initUI(self):</span></span><br><span class="line"><span class="string">        timer = QTimer(self)</span></span><br><span class="line"><span class="string">        timer.timeout.connect(self.do_something)</span></span><br><span class="line"><span class="string">        timer.start(1000) # 启动</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        btn = QPushButton(&#x27;aaaa&#x27;,self)</span></span><br><span class="line"><span class="string">        btn1 = QPushButton(&#x27;bbbb&#x27;, self)</span></span><br><span class="line"><span class="string">        btn1.move(50,50)</span></span><br><span class="line"><span class="string">        # btn.clicked.connect(self.close)</span></span><br><span class="line"><span class="string">        btn.clicked.connect(timer.stop)# 停止</span></span><br><span class="line"><span class="string">        btn1.clicked.connect(timer.start)</span></span><br><span class="line"><span class="string">    def do_something(self):</span></span><br><span class="line"><span class="string">        print(&quot;Timer triggered!&quot;)</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>



<h2 id="py-线程"><a href="#py-线程" class="headerlink" title="py 线程"></a>py 线程</h2><h3 id="1-控制线程"><a href="#1-控制线程" class="headerlink" title="1.控制线程"></a>1.控制线程</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span>  time</span><br><span class="line"><span class="keyword">import</span> threading</span><br><span class="line">a=<span class="literal">True</span>							<span class="comment">#  通过外部bool控制线程的停止</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">aaa</span>():</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="keyword">if</span> a==<span class="literal">False</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;2222&#x27;</span>)</span><br><span class="line">            time.sleep(<span class="number">0.5</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;1&#x27;</span>)</span><br><span class="line">        time.sleep(<span class="number">1</span>)</span><br><span class="line">t = threading.Thread(target=aaa)</span><br><span class="line">t.setDaemon(<span class="literal">True</span>)</span><br><span class="line">t.start()</span><br><span class="line">time.sleep(<span class="number">6</span>)</span><br><span class="line">a=<span class="literal">False</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;22&#x27;</span>)</span><br><span class="line">time.sleep(<span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<h3 id="2-线程id"><a href="#2-线程id" class="headerlink" title="2.线程id"></a>2.线程id</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 只有在线程里面才能获取线程</span></span><br><span class="line">my_thread_name = threading.current_thread().name  <span class="comment"># 获取当前线程名称</span></span><br><span class="line">my_thread_id = threading.current_thread().ident  <span class="comment"># 获取当前线程id</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;当前线程为：&#123;&#125;，线程id为：&#123;&#125;，所在进程为：&#123;&#125;&#x27;</span>.<span class="built_in">format</span>(my_thread_name, my_thread_id, os.getpid()))</span><br><span class="line"></span><br><span class="line">Thread.is_alive()<span class="comment">#方法可以返回线程是否还在运行。如果线程结束了，返回False；否则，返回True。</span></span><br></pre></td></tr></table></figure>

<h3 id="3-通过队列获取返回值"><a href="#3-通过队列获取返回值" class="headerlink" title="3.通过队列获取返回值"></a>3.通过队列获取返回值</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading, queue, time</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">worker</span>(<span class="params">num, q</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;正在执行第&#123;&#125;个任务&quot;</span>.<span class="built_in">format</span>(num))</span><br><span class="line">    time.sleep(<span class="number">2</span>)</span><br><span class="line">    q.put(<span class="string">&quot;第&#123;&#125;个任务完成&quot;</span>.<span class="built_in">format</span>(num))</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    q = queue.Queue()</span><br><span class="line"></span><br><span class="line">    threads = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">        t = threading.Thread(target=worker, args=(i+<span class="number">1</span>, q))</span><br><span class="line">        t.start()</span><br><span class="line">        threads.append(t)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> t <span class="keyword">in</span> threads:</span><br><span class="line">        t.join()</span><br><span class="line"></span><br><span class="line">    results = []</span><br><span class="line">    <span class="keyword">while</span> <span class="keyword">not</span> q.empty():</span><br><span class="line">        results.append(q.get())</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(results)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>

<h3 id="4-通过线程池获取返回值"><a href="#4-通过线程池获取返回值" class="headerlink" title="4.通过线程池获取返回值"></a>4.通过线程池获取返回值</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">from</span> concurrent.futures <span class="keyword">import</span> ThreadPoolExecutor</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="comment"># 定义获取线程return返回测试的方法</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">action_a</span>(<span class="params"><span class="built_in">max</span></span>):</span><br><span class="line">    my_sum = <span class="built_in">max</span> + <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> my_sum</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">action_b</span>(<span class="params"><span class="built_in">max</span></span>):</span><br><span class="line">    my_sum = <span class="built_in">max</span> + <span class="number">100</span></span><br><span class="line">    time.sleep(<span class="number">3</span>)</span><br><span class="line">    <span class="keyword">return</span> my_sum</span><br><span class="line"><span class="comment"># 创建包含2个线程的线程池</span></span><br><span class="line">pool = ThreadPoolExecutor(max_workers=<span class="number">2</span>)</span><br><span class="line"><span class="comment"># 向线程池提交一个任务, 20和10会作为action_a/b()方法的参数</span></span><br><span class="line">future1 = pool.submit(action_a, <span class="number">20</span>)</span><br><span class="line">future2 = pool.submit(action_b, <span class="number">10</span>)</span><br><span class="line"><span class="comment"># 判断future1线程是否结束---返回False表示该线程未结束，True表示该线程已经结束</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;future1线程的状态：&quot;</span> + <span class="built_in">str</span>(future1.done()))  <span class="comment"># 此时future1线程已结束</span></span><br><span class="line"><span class="comment"># 判断future2线程是否结束</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;future2线程的状态：&quot;</span> + <span class="built_in">str</span>(future2.done()))  <span class="comment"># 此时future2线程未结束，因为休眠了3秒</span></span><br><span class="line"><span class="comment"># 查看future1代表的任务返回的结果，如果线程未运行完毕，会暂时阻塞，等待线程运行完毕后再执行、输出；</span></span><br><span class="line"><span class="built_in">print</span>(future1.result())  <span class="comment"># 此处会直接输出</span></span><br><span class="line"><span class="comment"># 查看future2代表的任务返回的结果</span></span><br><span class="line"><span class="built_in">print</span>(future2.result())  <span class="comment"># 此处会等待3秒，因为方法中休眠了3秒</span></span><br><span class="line"><span class="comment"># 关闭线程池</span></span><br><span class="line">pool.shutdown()</span><br></pre></td></tr></table></figure>

<h3 id="5-通过重写线程函数获取返回值"><a href="#5-通过重写线程函数获取返回值" class="headerlink" title="5.通过重写线程函数获取返回值"></a>5.通过重写线程函数获取返回值</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 定义一个MyThread.py线程类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyThread</span>(threading.Thread):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, func, args=(<span class="params"></span>)</span>):</span><br><span class="line">        <span class="built_in">super</span>(MyThread, self).__init__()</span><br><span class="line">        self.func = func</span><br><span class="line">        self.args = args</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">run</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># time.sleep(2)</span></span><br><span class="line">        self.result = self.func(*self.args)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_result</span>(<span class="params">self</span>):</span><br><span class="line">        threading.Thread.start(self) <span class="comment"># 启动线程</span></span><br><span class="line">        threading.Thread.join(self)  <span class="comment"># 等待线程执行完毕</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="keyword">return</span> self.result</span><br><span class="line">        <span class="keyword">except</span> Exception:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取多线程return返回值的测试方法</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">admin</span>(<span class="params">number</span>):</span><br><span class="line">    uiu = number</span><br><span class="line">    uiu=uiu+<span class="number">50</span></span><br><span class="line">    <span class="keyword">return</span> uiu</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    <span class="comment"># 创建四个线程</span></span><br><span class="line">    more_th1 = MyThread(admin, (<span class="number">5</span>,))</span><br><span class="line">    more_th2 = MyThread(admin, (<span class="number">10</span>,))</span><br><span class="line">    <span class="comment"># 输出线程执行方法后的的返回值</span></span><br><span class="line">    <span class="built_in">print</span>(more_th1.get_result())</span><br><span class="line">    <span class="built_in">print</span>(more_th2.get_result())</span><br></pre></td></tr></table></figure>

<h3 id="6-控制线程数量"><a href="#6-控制线程数量" class="headerlink" title="6.控制线程数量"></a>6.控制线程数量</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="comment"># 限制线程的最大数量为3个， with操作</span></span><br><span class="line">sem = threading.Semaphore(<span class="number">3</span>)</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">gothread</span>():</span><br><span class="line">    <span class="keyword">with</span> sem:  <span class="comment"># 锁定线程的最大数量，with执行完自动释放</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>):</span><br><span class="line">            <span class="built_in">print</span>(threading.current_thread().ident, i)</span><br><span class="line">            time.sleep(<span class="number">2</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">    threading.Thread(target=gothread).start()</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment">#		手动操作</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">gothread</span>():</span><br><span class="line">    sem.acquire()<span class="comment"># 手动加入</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">8</span>):</span><br><span class="line">        <span class="built_in">print</span>(threading.current_thread().name, i)</span><br><span class="line">        time.sleep(<span class="number">1</span>)</span><br><span class="line">    sem.release()<span class="comment"># 手动释放</span></span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">6</span>):</span><br><span class="line">    threading.Thread(target=gothread).start()</span><br></pre></td></tr></table></figure>



<h2 id="py文件操作"><a href="#py文件操作" class="headerlink" title="py文件操作"></a>py文件操作</h2><h3 id="1-返回文件夹下最新文件或文件夹"><a href="#1-返回文件夹下最新文件或文件夹" class="headerlink" title="1.返回文件夹下最新文件或文件夹"></a>1.返回文件夹下最新文件或文件夹</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 返回文件夹下最新的文件名或文件夹名，文件夹下没有文件，返回空</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">new_report</span>(<span class="params">test_report</span>):</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(test_report):</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    lists = os.listdir(test_report)         <span class="comment"># 列出目录的下所有文件和文件夹保存到lists</span></span><br><span class="line">    lists.sort(key=<span class="keyword">lambda</span> fn: os.path.getmtime(test_report + <span class="string">&quot;/&quot;</span> + fn)) <span class="comment"># 按时间排序</span></span><br><span class="line">    file_new = os.path.join(test_report, lists[-<span class="number">1</span>])      <span class="comment"># 获取最新的文件保存到file_new</span></span><br><span class="line">    <span class="keyword">return</span> file_new</span><br></pre></td></tr></table></figure>

<h3 id="2-获取文件的属性"><a href="#2-获取文件的属性" class="headerlink" title="2.获取文件的属性"></a>2.获取文件的属性</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">statinfo = os.stat(path)</span><br><span class="line">mtime = statinfo.st_mtime</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;File modified time : &quot;</span>, mtime)</span><br></pre></td></tr></table></figure>

<h3 id="3-写入yaml"><a href="#3-写入yaml" class="headerlink" title="3.写入yaml"></a>3.写入yaml</h3><p><img src="1686125206710.png" alt="1686125206710"><img src="1686125232523.png" alt="1686125232523"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> ruamel.yaml</span><br><span class="line"><span class="keyword">from</span> ruamel.yaml.scalarstring <span class="keyword">import</span> SingleQuotedScalarString <span class="keyword">as</span> dq</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">L</span>(<span class="params">*l</span>):</span><br><span class="line">   ret = ruamel.yaml.comments.CommentedSeq(l)</span><br><span class="line">   ret.fa.set_flow_style()</span><br><span class="line">   <span class="keyword">return</span> ret</span><br><span class="line"></span><br><span class="line">txt_file = <span class="built_in">open</span>(<span class="string">&#x27;D:\YOLOv5\yolov5-6.1\classes.txt&#x27;</span>)</span><br><span class="line">yaml = ruamel.yaml.YAML()</span><br><span class="line">classes_txt = []</span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> txt_file.readlines():</span><br><span class="line">    line = line.rstrip()</span><br><span class="line">    classes_txt.append(line)</span><br><span class="line">txt_file.close()</span><br><span class="line">yaml.preserve_quotes=<span class="literal">True</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;D:\YOLOv5\yolov5-6.1\mydata.yaml&quot;</span>,<span class="string">&quot;r&quot;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> file:</span><br><span class="line">    data = yaml.load(file)</span><br><span class="line">data[<span class="string">&quot;nc&quot;</span>] = <span class="built_in">len</span>(classes_txt)</span><br><span class="line"><span class="comment">#data[&quot;names&quot;] = L(dq(&#x27;&#123;&#125;&#x27;.format(classes_txt[0])),dq(&#x27;bbb&#x27;))</span></span><br><span class="line">a=ruamel.yaml.CommentedSeq()</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(classes_txt)):</span><br><span class="line">    a.append(dq(classes_txt[i]))</span><br><span class="line">data[<span class="string">&#x27;names&#x27;</span>]=a</span><br><span class="line">yaml.default_flow_style=<span class="literal">True</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;D:\YOLOv5\yolov5-6.1\mydata.yaml&quot;</span>,<span class="string">&quot;w&quot;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    yaml.dump(data,f)</span><br></pre></td></tr></table></figure>

<h3 id="4-读取excl表格指定行或列"><a href="#4-读取excl表格指定行或列" class="headerlink" title="4.读取excl表格指定行或列"></a>4.读取excl表格指定行或列</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">r&#x27;D:\YOLOv5\yolov5-6.1\dist\exe\runs\train\exp7\results.csv&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>, mode=<span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> file_read:</span><br><span class="line">    epoch = []</span><br><span class="line">    loss = []</span><br><span class="line">    csvread = csv.reader(file_read)</span><br><span class="line">    headers = <span class="built_in">next</span>(csvread)  <span class="comment"># 获取csv文件中的列名</span></span><br><span class="line">    content = headers.index(<span class="string">&#x27;               epoch&#x27;</span>)  <span class="comment"># 提取csv文件中的指定列名</span></span><br><span class="line">    content1 = headers.index(<span class="string">&#x27;      train/box_loss&#x27;</span>)</span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> csvread:  <span class="comment"># 打印指定列的内容</span></span><br><span class="line">        epoch.append(<span class="built_in">int</span>(row[content].strip()))</span><br><span class="line">        loss.append(<span class="built_in">float</span>(row[content1].strip()))</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">type</span>(epoch[<span class="number">0</span>]))</span><br><span class="line">    <span class="built_in">print</span>(loss)</span><br><span class="line">file_read.close()</span><br></pre></td></tr></table></figure>

<h3 id="4-获取指定文件夹下的文件"><a href="#4-获取指定文件夹下的文件" class="headerlink" title="4.获取指定文件夹下的文件"></a>4.获取指定文件夹下的文件</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line">path=<span class="string">r&#x27;D:\YOLOv5\yolov5-6.1\data\1&#x27;</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(path):    <span class="comment"># 不存在返回false</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;文件或文件夹不存在！&#x27;</span>)</span><br><span class="line">    exit()</span><br><span class="line">files=os.listdir(path)</span><br><span class="line"><span class="keyword">for</span> file <span class="keyword">in</span> files:</span><br><span class="line">    <span class="keyword">if</span> file.endswith(<span class="string">&#x27;.bmp&#x27;</span>):</span><br><span class="line">        <span class="built_in">print</span>(file)</span><br></pre></td></tr></table></figure>



<h2 id="py-tcp"><a href="#py-tcp" class="headerlink" title="py tcp"></a>py tcp</h2><h3 id="1-测试某个端口是否打开"><a href="#1-测试某个端口是否打开" class="headerlink" title="1.测试某个端口是否打开"></a>1.测试某个端口是否打开</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">		创建一个socket tcp服务</span></span><br><span class="line"><span class="string">		AF_INET使用IPV4</span></span><br><span class="line"><span class="string">		SOCK_STREAM使用流套接字tcp，</span></span><br><span class="line"><span class="string">		SOCK_DGRAM使用数据套接字udp</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line">sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</span><br><span class="line">result = sock.connect_ex((<span class="string">&#x27;127.0.0.1&#x27;</span>,<span class="number">4000</span>))</span><br><span class="line"><span class="keyword">if</span> result == <span class="number">0</span>:</span><br><span class="line">   <span class="built_in">print</span>(<span class="string">&quot;Port is open&quot;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">   <span class="built_in">print</span> (<span class="string">&quot;Port is not open&quot;</span>)</span><br><span class="line">sock.close()</span><br></pre></td></tr></table></figure>

<h3 id="2-建立tcp连接"><a href="#2-建立tcp连接" class="headerlink" title="2.建立tcp连接"></a>2.建立tcp连接</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 											服务器代码</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"><span class="comment"># 创建一个ipv4的tcp套接字</span></span><br><span class="line">sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</span><br><span class="line"><span class="comment"># 本地8888端口</span></span><br><span class="line">serveraddress =(<span class="string">&#x27;localhost&#x27;</span>,<span class="number">8888</span>)</span><br><span class="line"><span class="comment"># 绑定ip和端口</span></span><br><span class="line">sock.bind(serveraddress)</span><br><span class="line"><span class="comment"># 监听客户端连接.1是排队数量，如果排队大于1会报错</span></span><br><span class="line"><span class="comment"># socket允许的最大连接数为: n + 1，n就是listen的参数</span></span><br><span class="line"><span class="comment"># 服务器开了2个线程，那么socket允许的最大连接数就是: n + 2</span></span><br><span class="line">sock.listen(<span class="number">1</span>)</span><br><span class="line"><span class="comment">#接受客户端连接</span></span><br><span class="line">clientsocket, clientaddress = sock.accept()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;客户端已连接:&#x27;</span>, clientaddress)</span><br><span class="line"><span class="comment">#接收客户端消息</span></span><br><span class="line">message = clientsocket.recv(<span class="number">1024</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;收到消息:&#x27;</span>, message.decode())<span class="comment"># decode 解码 默认 utf-8</span></span><br><span class="line"><span class="comment">#发送回复消息给客户端</span></span><br><span class="line">reply =<span class="string">&#x27;欢迎连接到服务器！&#x27;</span></span><br><span class="line">clientsocket.sendall(reply.encode())</span><br><span class="line"><span class="comment">#关闭连接</span></span><br><span class="line">clientsocket.close()</span><br><span class="line">sock.close()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 											客户端代码</span></span><br><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"><span class="comment">#创建Socket对象</span></span><br><span class="line">clientsocket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</span><br><span class="line"><span class="comment">#连接服务器</span></span><br><span class="line">serveraddress =(<span class="string">&#x27;localhost&#x27;</span>,<span class="number">8888</span>)</span><br><span class="line">clientsocket.connect(serveraddress)</span><br><span class="line"><span class="comment">#发送消息给服务器</span></span><br><span class="line">message =<span class="string">&#x27;Hello, Server!&#x27;</span></span><br><span class="line">clientsocket.sendall(message.encode())<span class="comment"># 默认以utf-8编码发送数据</span></span><br><span class="line"><span class="comment">#接收服务器回复消息</span></span><br><span class="line">reply = clientsocket.recv(<span class="number">1024</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;收到回复:&#x27;</span>, reply.decode())</span><br><span class="line"><span class="comment">#关闭连接</span></span><br><span class="line">clientsocket.close()</span><br></pre></td></tr></table></figure>

<h2 id="py脚本"><a href="#py脚本" class="headerlink" title="py脚本"></a>py脚本</h2><h3 id="1-将标注文件中1类别的图片从数据集中提取出来"><a href="#1-将标注文件中1类别的图片从数据集中提取出来" class="headerlink" title="1.将标注文件中1类别的图片从数据集中提取出来"></a>1.将标注文件中1类别的图片从数据集中提取出来</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    init_path = <span class="string">r&quot;D:\1work\PU7\FAOI_Screw_Tool\darknet_Train\AI_Label_Tool_V1.0.3\新建文件夹&quot;</span></span><br><span class="line">    <span class="keyword">for</span> root, dirs, files <span class="keyword">in</span> os.walk(<span class="string">r&quot;D:\1work\PU7\FAOI_Screw_Tool\darknet_Train\AI_Label_Tool_V1.0.3\新建文件夹&quot;</span>):</span><br><span class="line">        <span class="keyword">for</span> file <span class="keyword">in</span> files:</span><br><span class="line">            <span class="keyword">if</span> file.endswith(<span class="string">&quot;.txt&quot;</span>):</span><br><span class="line">                a=init_path+<span class="string">&#x27;\\&#x27;</span>+file</span><br><span class="line">                <span class="keyword">with</span> <span class="built_in">open</span>(a, <span class="string">&#x27;r&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>)<span class="keyword">as</span> f:</span><br><span class="line">                    data_file = f.read()</span><br><span class="line">                    <span class="keyword">if</span> <span class="string">&#x27;1&#x27;</span> <span class="keyword">in</span> data_file:</span><br><span class="line">                        img_file = a.replace(<span class="string">&#x27;.txt&#x27;</span>, <span class="string">&#x27;.bmp&#x27;</span>)</span><br><span class="line">                        new_img_file = img_file.rsplit(<span class="string">&#x27;\\&#x27;</span>,<span class="number">1</span>)</span><br><span class="line">                        new_img_file1 = new_img_file[<span class="number">0</span>] + <span class="string">&#x27;\\1\\&#x27;</span> + new_img_file[<span class="number">1</span>]</span><br><span class="line">                        shutil.move(img_file, new_img_file1)</span><br></pre></td></tr></table></figure>

<h2 id="py递归"><a href="#py递归" class="headerlink" title="py递归"></a>py递归</h2><h3 id="1-修改编译器最大递归深度"><a href="#1-修改编译器最大递归深度" class="headerlink" title="1.修改编译器最大递归深度"></a>1.修改编译器最大递归深度</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="built_in">print</span>(sys.getrecursionlimit())  <span class="comment"># 查看当前最大递归深度</span></span><br><span class="line">sys.setrecursionlimit(<span class="number">1500</span>) <span class="comment"># 修改最大递归深度</span></span><br></pre></td></tr></table></figure>

<h3 id="2-递归"><a href="#2-递归" class="headerlink" title="2.递归"></a>2.递归</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">my_sum</span>(<span class="params">i</span>):</span><br><span class="line">    <span class="keyword">if</span> <span class="number">0</span>==i:</span><br><span class="line">        <span class="keyword">return</span> i</span><br><span class="line">    <span class="keyword">return</span> i+my_sum(i-<span class="number">1</span>)</span><br><span class="line"><span class="comment"># 创建一个一个函数空间：递推，返回值并销毁一个一个函数空间：回归</span></span><br><span class="line"><span class="built_in">print</span>(my_sum(<span class="number">100</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 	递归打印</span></span><br><span class="line">l=[<span class="number">1</span>,<span class="number">2</span>,[<span class="number">3</span>,[<span class="number">4</span>,[<span class="number">5</span>,[<span class="number">6</span>,[<span class="number">7</span>,[<span class="number">8</span>,[<span class="number">9</span>,[<span class="number">10</span>,[<span class="number">11</span>,<span class="number">12</span>]]]]]]]]]]</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">func</span>(<span class="params">li</span>):</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> li:</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">type</span>(i)<span class="keyword">is</span> <span class="built_in">list</span>:</span><br><span class="line">            func(i)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(i)</span><br><span class="line">func(l)</span><br><span class="line"></span><br><span class="line"><span class="comment">#	递归全排序</span></span><br><span class="line">s=<span class="string">&#x27;abc&#x27;</span></span><br><span class="line">l=<span class="built_in">list</span>(s)</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">permutation</span>(<span class="params">l,level</span>):</span><br><span class="line">    <span class="keyword">if</span> level==<span class="built_in">len</span>(l):</span><br><span class="line">        <span class="built_in">print</span>(l)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(level,<span class="built_in">len</span>(l)):</span><br><span class="line">        l[level],l[i]=l[i],l[level]</span><br><span class="line">        permutation(l,level+<span class="number">1</span>)</span><br><span class="line">        l[level],l[i]=l[i],l[level]</span><br><span class="line">permutation(l,<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 	递归二分法</span></span><br><span class="line">ll=[-<span class="number">5</span>,-<span class="number">3</span>,-<span class="number">1</span>,<span class="number">0</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">11</span>,<span class="number">13</span>]</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">func1</span>(<span class="params">l,i</span>):</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(l)==<span class="number">1</span>:</span><br><span class="line">        <span class="keyword">if</span> l[<span class="number">0</span>]==i:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;找到了&#x27;</span>)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;没找到&#x27;</span>)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">    <span class="keyword">if</span> i&lt;l[<span class="built_in">int</span>(<span class="built_in">len</span>(l)/<span class="number">2</span>)]:</span><br><span class="line">        l1=l[<span class="number">0</span>:<span class="built_in">int</span>(<span class="built_in">len</span>(l)/<span class="number">2</span>)]</span><br><span class="line">        func1(l1,i)</span><br><span class="line">    <span class="keyword">elif</span> i&gt;l[<span class="built_in">int</span>(<span class="built_in">len</span>(l)/<span class="number">2</span>)]:</span><br><span class="line">        l1=l[<span class="built_in">int</span>(<span class="built_in">len</span>(l)/<span class="number">2</span>):<span class="built_in">len</span>(l)]</span><br><span class="line">        func1(l1,i)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;找到了&#x27;</span>)</span><br><span class="line">func1(ll,<span class="number">8</span>)</span><br></pre></td></tr></table></figure>

<h2 id="py模块"><a href="#py模块" class="headerlink" title="py模块"></a>py模块</h2><h3 id="1-time-amp-datetime"><a href="#1-time-amp-datetime" class="headerlink" title="1.time&amp;datetime"></a>1.time&amp;datetime</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="comment"># 时间戳,从1970到现在的秒数</span></span><br><span class="line"><span class="built_in">print</span>(time.time())</span><br><span class="line"><span class="comment"># 结构化字符串</span></span><br><span class="line"><span class="built_in">print</span>(time.strftime(<span class="string">&#x27;%Y-%m-%d %H:%M:%S&#x27;</span>))</span><br><span class="line"><span class="comment"># 结构化时间</span></span><br><span class="line">res=time.localtime()</span><br><span class="line"><span class="built_in">print</span>(res)</span><br><span class="line"></span><br><span class="line">nowtime=time.time()</span><br><span class="line">nowtime1=time.localtime(nowtime)<span class="comment"># 可以将时间戳转为结构化时间</span></span><br><span class="line">time.gmtime()<span class="comment"># 世界标准时间</span></span><br><span class="line"></span><br><span class="line">time.strftime(<span class="string">&#x27;%Y-%m-%d %X&#x27;</span>,nowtime1)<span class="comment"># 结构化时间转为结构化字符串</span></span><br><span class="line"></span><br><span class="line">t=<span class="string">&#x27;1983-12-07 01:02:02&#x27;</span></span><br><span class="line">tt=time.strptime(t,<span class="string">&#x27;%Y-%m-%d %X&#x27;</span>)<span class="comment"># 结构化字符串 转为 结构化时间</span></span><br><span class="line">time.mktime(tt)</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> datetime</span><br><span class="line">res=datetime.datetime.now()</span><br><span class="line"><span class="built_in">print</span>(res)</span><br><span class="line"><span class="built_in">print</span>(res.replace(microsecond=<span class="number">0</span>))<span class="comment"># 去掉毫秒</span></span><br><span class="line"></span><br><span class="line">res1=datetime.datetime.now()+datetime.timedelta(days=<span class="number">7</span>)<span class="comment"># 7天后</span></span><br><span class="line"><span class="built_in">print</span>(res1.replace(microsecond=<span class="number">0</span>))</span><br></pre></td></tr></table></figure>

<h3 id="2-random"><a href="#2-random" class="headerlink" title="2.random"></a>2.random</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="built_in">print</span>(random.random())<span class="comment"># 0-1</span></span><br><span class="line"><span class="built_in">print</span>(random.uniform(<span class="number">1</span>,<span class="number">10</span>))</span><br><span class="line"><span class="built_in">print</span>(random.randint(-<span class="number">100</span>,<span class="number">100</span>))<span class="comment"># [-100,100]随机整数</span></span><br><span class="line"><span class="built_in">print</span>(random.randrange(<span class="number">1</span>,<span class="number">3</span>))<span class="comment"># [1,3)</span></span><br><span class="line"><span class="built_in">print</span>(random.choice([<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;3&#x27;</span>]))<span class="comment"># 列表 字符串 元组等</span></span><br><span class="line"><span class="built_in">print</span>(random.sample([<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;3&#x27;</span>],<span class="number">2</span>))<span class="comment"># 和choice类似，指定一次取多少个值</span></span><br><span class="line">li=[<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>]</span><br><span class="line">random.shuffle(li)<span class="comment"># 打乱可变容器数据的顺讯</span></span><br><span class="line"><span class="built_in">print</span>(li)</span><br><span class="line"><span class="comment"># 生成随机16位密码</span></span><br><span class="line">pwd=<span class="string">&#x27;&#x27;</span></span><br><span class="line">char_list=[[<span class="number">97</span>,<span class="number">122</span>],[<span class="number">65</span>,<span class="number">90</span>],[<span class="number">48</span>,<span class="number">57</span>],[<span class="number">33</span>,<span class="number">47</span>]]</span><br><span class="line"><span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">16</span>):</span><br><span class="line">    random_list=random.choice(char_list)</span><br><span class="line">    random_char=<span class="built_in">chr</span>(random.randint(*random_list))</span><br><span class="line">    pwd+=random_char</span><br><span class="line"><span class="built_in">print</span>(pwd)</span><br></pre></td></tr></table></figure>

<h3 id="3-os"><a href="#3-os" class="headerlink" title="3.os"></a>3.os</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 递归统计文件夹或文件的大小</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">path_size</span>(<span class="params">path</span>):</span><br><span class="line">    size=<span class="number">0</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(path):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;文件或文件夹不存在！&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    dir_list=os.listdir(path)</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(dir_list)==<span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> p <span class="keyword">in</span> dir_list:</span><br><span class="line">        pa=os.path.join(path,p)</span><br><span class="line">        <span class="keyword">if</span> os.path.isdir(pa):</span><br><span class="line">            size+=path_size(pa)</span><br><span class="line">        <span class="keyword">if</span> os.path.isfile(pa):</span><br><span class="line">            <span class="built_in">print</span>(pa)</span><br><span class="line">            size+=os.path.getsize(pa)</span><br><span class="line">    <span class="keyword">return</span> size</span><br><span class="line"><span class="built_in">print</span>(path_size(<span class="string">r&#x27;D:\1笔记&#x27;</span>))</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">os.getcwd()<span class="comment"># 获取当前工作目录</span></span><br><span class="line">os.chdir(<span class="string">&quot;dirname&quot;</span>) <span class="comment"># 改变当前脚本工作目录；相当于终端里面的cd命令</span></span><br><span class="line">os.listdir(<span class="string">&#x27;dirname&#x27;</span>) <span class="comment"># 获取指定目录下的所有文件和文件夹，包括隐藏文件，并返回列表</span></span><br><span class="line">os.mkdir(<span class="string">&#x27;dirname&#x27;</span>) <span class="comment"># 创建文件夹；相当于终端里面的mkdir dirname</span></span><br><span class="line">os.makedirs(<span class="string">&#x27;dirname1/dirname2&#x27;</span>) <span class="comment"># 递归创建多层目录</span></span><br><span class="line">os.remove()<span class="comment"># 删除一个文件</span></span><br><span class="line">os.rmdir(<span class="string">&#x27;dirname&#x27;</span>) <span class="comment"># 删除单级空目录，若目录不为空则无法删除,则报错</span></span><br><span class="line">os.rename(<span class="string">&#x27;oldname&#x27;</span>,<span class="string">&#x27;newname&#x27;</span>) <span class="comment"># 重命名文件/目录</span></span><br><span class="line">os.system(<span class="string">&quot;rm -rf /&quot;</span>) <span class="comment"># 运行终端命令</span></span><br><span class="line">os.environ<span class="comment"># 获取系统环境变量,可以将密码存入环境变量读取</span></span><br><span class="line">os.environ.get(<span class="string">&#x27;KEY&#x27;</span>) <span class="comment"># 获取系统环境变量的某一个值</span></span><br><span class="line">os.getenv(<span class="string">&#x27;KEY&#x27;</span>)<span class="comment"># 获取系统环境变量的某一个值</span></span><br><span class="line">os.stat(<span class="string">&#x27;path/filename&#x27;</span>)<span class="comment"># 获取文件/目录信息</span></span><br><span class="line">os.name<span class="comment"># 输出字符串指示当前使用平台。win-&gt;&#x27;nt&#x27;; Linux-&gt;&#x27;posix&#x27;</span></span><br><span class="line">os.path.split(path) <span class="comment"># 将path分割成目录和文件名,返回元组</span></span><br><span class="line">os.path.dirname(path) <span class="comment"># 返回path的父级目录。其实就是os.path.split(path)的第一个元素</span></span><br><span class="line">os.path.basename(path) <span class="comment"># 返回path最后的文件名。如path以／或\结尾，那么就会返回空值。即</span></span><br><span class="line">os.path.split(path)的第二个元素</span><br><span class="line">os.path.exists(path) <span class="comment"># 如果path存在，返回True；如果path不存在，返回False</span></span><br><span class="line">os.path.isabs(path) <span class="comment"># 如果path是绝对路径，返回True</span></span><br><span class="line">os.path.isfile(path) <span class="comment"># 如果path是一个存在的文件，返回True。否则返回False</span></span><br><span class="line">os.path.isdir(path) <span class="comment"># 如果path是一个存在的目录，则返回True。否则返回False</span></span><br><span class="line">os.path.join(path1[, path2[, ...]]) <span class="comment"># 将多个路径组合后返回，第一个绝对路径之前的参数将被忽略</span></span><br><span class="line">os.path.getatime(path) <span class="comment"># 返回path所指向的文件或者目录的最后读取时间</span></span><br><span class="line">os.path.getmtime(path) <span class="comment"># 返回path所指向的文件或者目录的最后修改时间</span></span><br><span class="line">os.path.getctime(path) <span class="comment"># # 返回path所指向的文件或者目录的创建时间(windows平台中)</span></span><br><span class="line">os.path.getsize(path) <span class="comment"># 返回path的大小</span></span><br></pre></td></tr></table></figure>

<h3 id="4-shutil"><a href="#4-shutil" class="headerlink" title="4.shutil"></a>4.shutil</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line">shutil.copystat(a,b)<span class="comment"># 将a文件的属性拷贝给b，b文件必须存在</span></span><br><span class="line">shutil.copymode(a,b)<span class="comment"># 拷贝文件权限</span></span><br><span class="line">shutil.copyfileobj(<span class="built_in">open</span>(),<span class="built_in">open</span>())<span class="comment"># 拷贝文件</span></span><br><span class="line">shutil.copyfile(a,b)<span class="comment"># 拷贝</span></span><br><span class="line">shutil.copy(a,b)<span class="comment"># 拷贝文件和权限</span></span><br><span class="line">shutil.copy2(a,b)<span class="comment"># 拷贝文件和属性</span></span><br><span class="line">shutil.copytree(a,b,ignore=shutil.ignore_patterns(<span class="string">&#x27;*.py&#x27;</span>))<span class="comment"># 拷贝文件夹，ignore排除.py文件</span></span><br><span class="line">shutil.move(a,b)<span class="comment"># 移动文件或文件夹，路径相同 名字不同就是重命名</span></span><br><span class="line">shutil.make_archive(paht,<span class="string">&#x27;zip&#x27;</span>,root_dir)<span class="comment"># 压缩包存放路径，压缩格式zip tar bztar gztar,需要压缩文件的路径</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># zipfile tarfile 处理压缩包的模块</span></span><br></pre></td></tr></table></figure>

<h3 id="5-sys"><a href="#5-sys" class="headerlink" title="5.sys"></a>5.sys</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="built_in">print</span>(sys.path)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(sys.argv)<span class="comment"># 运行参数，0执行文件，后面就是转入的参数</span></span><br></pre></td></tr></table></figure>

<h3 id="6-configparser配置文件"><a href="#6-configparser配置文件" class="headerlink" title="6.configparser配置文件"></a>6.configparser配置文件</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> configparser</span><br><span class="line"></span><br><span class="line">config = configparser.ConfigParser ()</span><br><span class="line">config.read(<span class="string">r&#x27;C:\Users\yjt\Desktop\a.txt&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(config.sections())<span class="comment"># 打印所有sections值</span></span><br><span class="line"><span class="built_in">print</span>(config.options(<span class="string">&#x27;db&#x27;</span>))<span class="comment"># 打印对应section下面的key</span></span><br><span class="line"><span class="built_in">print</span>(config.items(<span class="string">&#x27;db&#x27;</span>))<span class="comment"># 打印section对应的key 与 value,元组+字符串</span></span><br><span class="line"><span class="comment"># db1=config.get(&#x27;db&#x27;,&#x27;db1&#x27;)</span></span><br><span class="line"><span class="comment"># db1=config.getint(&#x27;db&#x27;,&#x27;db1&#x27;)</span></span><br><span class="line"><span class="comment"># db1=config.getfloat(&#x27;db&#x27;,&#x27;db1&#x27;)</span></span><br><span class="line">db1=config.getboolean(<span class="string">&#x27;db&#x27;</span>,<span class="string">&#x27;db3&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(db1,<span class="built_in">type</span>(db1))</span><br></pre></td></tr></table></figure>

<h3 id="7-subprocess"><a href="#7-subprocess" class="headerlink" title="7.subprocess"></a>7.subprocess</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import subprocess </span><br><span class="line"># 和 os.system 类似，结果是字符串类型</span><br><span class="line"># subprocess结果是bytes</span><br><span class="line">obj = subprocess.Popen(&#x27;tree &amp; aas&#x27;,</span><br><span class="line">                      shell=True,# 程序通过shell执行</span><br><span class="line">                      stdout=subprocess.PIPE,# 正确执行完成的结果存入stdout管道</span><br><span class="line">                      stderr=subprocess.PIPE)# 执行过程报错的信息</span><br><span class="line">res = obj.stdout.read()</span><br><span class="line">print(res.decode(&#x27;gbk&#x27;))</span><br><span class="line">err = obj.stderr.read()</span><br><span class="line">print(err.decode(&#x27;gbk&#x27;))</span><br></pre></td></tr></table></figure>

<h3 id="8-hash-哈希"><a href="#8-hash-哈希" class="headerlink" title="8.hash 哈希"></a>8.hash 哈希</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 哈希算法 md5 sha1 sha256 sha512</span></span><br><span class="line"><span class="comment"># 1.输入敏感(有点不同，哈希值就变化很大)    2.不可逆    3.计算极快而长度固定</span></span><br><span class="line"><span class="comment"># 用途1.加密(一个哈希值能对应多个明文)，可通过哈希碰撞破解    2.文件完整性效验</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line">h1= hashlib.md5()</span><br><span class="line">h1.update(<span class="string">&#x27;abc&#x27;</span>.encode(<span class="string">&#x27;utf-8&#x27;</span>))<span class="comment"># 传入需要加密的bytes内容</span></span><br><span class="line">h1.update(<span class="string">&#x27;123&#x27;</span>.encode(<span class="string">&#x27;utf-8&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(h1.hexdigest())<span class="comment"># 返回所有h1加密的东西,abc123</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 小文件完整性效验</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">r&#x27;D:\浏览器下载\ProcessExplorer.zip&#x27;</span>,<span class="string">&#x27;rb&#x27;</span>)<span class="keyword">as</span> f:</span><br><span class="line">    m1=hashlib.md5(f.read()).hexdigest()<span class="comment"># 全部读入做md5效验</span></span><br><span class="line">    <span class="built_in">print</span>(m1)</span><br><span class="line">    m2=<span class="string">&#x27;78a1f74f69d40fc6468bc4a2bb2b5221&#x27;</span><span class="comment"># 文件的md5校验码</span></span><br><span class="line">    <span class="keyword">if</span> m1==m2:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;相同&#x27;</span>)</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment"># 大文件分段，取部分数据效验</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line">path=<span class="string">r&#x27;D:\浏览器下载\ProcessExplorer.zip&#x27;</span></span><br><span class="line">size = os.path.getsize(path)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;文件大小为:<span class="subst">&#123;size&#125;</span>&#x27;</span>)</span><br><span class="line"></span><br><span class="line">md = hashlib.md5()</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">r&#x27;D:\浏览器下载\ProcessExplorer.zip&#x27;</span>,<span class="string">&#x27;rb&#x27;</span>)<span class="keyword">as</span> f:</span><br><span class="line">    f.seek(<span class="number">0</span>,<span class="number">2</span>)<span class="comment"># 参照末尾移动0个字节</span></span><br><span class="line">    size1 = f.tell()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;seek统计的文件大小:<span class="subst">&#123;size1&#125;</span>&#x27;</span>)</span><br><span class="line">    </span><br><span class="line">    one_tenth=size//<span class="number">10</span>    <span class="comment"># 文件10分段，位置</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">        f.seek(i*one_tenth,<span class="number">0</span>)     <span class="comment"># 取10分段位置起点</span></span><br><span class="line">        res=f.read(<span class="number">100</span>)       <span class="comment">#  取分段后100个字符</span></span><br><span class="line">        md.update(res)</span><br><span class="line">    <span class="built_in">print</span>(md.hexdigest())</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 密码加盐</span></span><br><span class="line">pwd=<span class="string">&#x27;xyxy520&#x27;</span></span><br><span class="line">mdmd=hashlib.md5()</span><br><span class="line"><span class="comment"># mdmd.update(pwd.encode(&#x27;gbk&#x27;))# 不进行任何加盐，xyxy520</span></span><br><span class="line">mdmd.update(pwd[:<span class="number">2</span>].encode(<span class="string">&#x27;gbk&#x27;</span>))<span class="comment">#   可以自定义位置和内容加盐</span></span><br><span class="line">mdmd.update(<span class="string">&#x27;天青色等烟雨&#x27;</span>.encode(<span class="string">&#x27;gbk&#x27;</span>))<span class="comment"># xy天青色等烟雨xy而我在等你520</span></span><br><span class="line">mdmd.update(pwd[<span class="number">2</span>:<span class="number">4</span>].encode(<span class="string">&#x27;gbk&#x27;</span>))</span><br><span class="line">mdmd.update(<span class="string">&#x27;而我在等你&#x27;</span>.encode(<span class="string">&#x27;gbk&#x27;</span>))</span><br><span class="line">mdmd.update(pwd[<span class="number">4</span>:].encode(<span class="string">&#x27;gbk&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(mdmd.hexdigest())</span><br></pre></td></tr></table></figure>

<h3 id="9-re正则表达式"><a href="#9-re正则表达式" class="headerlink" title="9.re正则表达式"></a>9.re正则表达式</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#限定符</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    *:*前面的一个字符可以是0个或者多个</span></span><br><span class="line"><span class="string">    +：+前面的一个字符可以是1个或者多个</span></span><br><span class="line"><span class="string">    &#123;&#125;:&#123;&#125;前一个字符出现的次数，&#123;5&#125;5次，(2,5)2到5次,&#123;2,&#125;2次及以上</span></span><br><span class="line"><span class="string">    ？:前一个字符0次或1次</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    (xy):将()中的内容当做一个字符</span></span><br><span class="line"><span class="string">    play the (piano|guitar):play the piano或play the guitar，()不能省，|或</span></span><br><span class="line"><span class="string">    [xyg]+:只能是xyg组成的单词，一次或多次</span></span><br><span class="line"><span class="string">    [a-zA-Z0-9]+:所有英文和数字组成</span></span><br><span class="line"><span class="string">    [^a-zA-Z0-9]+:^后面列出的字符除外</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    正则内置字符：\d表示数字字符</span></span><br><span class="line"><span class="string">                \D非数字字符</span></span><br><span class="line"><span class="string">                \w所有单词字符，英文数字下划线</span></span><br><span class="line"><span class="string">                \W非单词字符</span></span><br><span class="line"><span class="string">                \s空白字符，空格 制表符 换行符</span></span><br><span class="line"><span class="string">                \S非空白</span></span><br><span class="line"><span class="string">                .任意字符，不包括换行符、</span></span><br><span class="line"><span class="string">                ^匹配行首，x^匹配行首的x，[^]的^是取反</span></span><br><span class="line"><span class="string">                $匹配行尾</span></span><br><span class="line"><span class="string">                </span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    &lt;.+&gt; 匹配以&lt;开始和&gt;结束最多的字符串，贪婪匹配</span></span><br><span class="line"><span class="string">    &lt;.+?&gt;懒惰匹配，最短的字符串</span></span><br><span class="line"><span class="string">    \.  匹配 . ，\防止转义</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line">re.findall(<span class="string">&#x27;.+&#x27;</span>,<span class="string">&#x27;abc\ndef\ng&#x27;</span>) <span class="comment"># 1.正则表达式，2.需要核对的字符串</span></span><br><span class="line">re.findall(<span class="string">&#x27;.+&#x27;</span>,<span class="string">&#x27;abc\ndef\ng&#x27;</span>,flags=re.DOTALL)<span class="comment"># flags=re.DOTALL re.S 让.包括换行符</span></span><br><span class="line"><span class="comment"># flags=re.I 不区分大小写</span></span><br><span class="line"><span class="comment"># flags=re.M  匹配行首</span></span><br><span class="line"></span><br><span class="line">phone_num=<span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">13335654872</span></span><br><span class="line"><span class="string">14825556148</span></span><br><span class="line"><span class="string">15554845489</span></span><br><span class="line"><span class="string">16658151288</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment">#######   (?:···)让小括号不是一个group</span></span><br><span class="line"><span class="built_in">print</span>(re.findall(<span class="string">r&#x27;\b(?:13[0-9]|14[5-9]|15[0-35-9])\d&#123;8&#125;\b&#x27;</span>,phone_num))<span class="comment"># \b表示边界，空白等</span></span><br><span class="line">res=re.search(<span class="string">r&#x27;\b(?:13[0-9]|14[5-9]|15[0-35-9])\d&#123;8&#125;\b&#x27;</span>,phone_num)<span class="comment"># 返回第一个符合值，且是一个match对象，没找到返回none</span></span><br><span class="line"><span class="built_in">print</span>(res)</span><br><span class="line"><span class="built_in">print</span>(res.span())</span><br><span class="line"><span class="built_in">print</span>(res.group())</span><br><span class="line">res1=re.search(<span class="string">r&#x27;\b(13[0-9]|14[5-9]|15[0-35-9])(\d&#123;8&#125;\b)&#x27;</span>,phone_num)<span class="comment"># 注意看正则的()</span></span><br><span class="line"><span class="built_in">print</span>(res1)</span><br><span class="line"><span class="built_in">print</span>(res1.group(<span class="number">1</span>))</span><br><span class="line"><span class="built_in">print</span>(res1.group(<span class="number">2</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">#re.finditer()# 结果以迭代器返回</span></span><br><span class="line">s=<span class="string">&#x27;&#x27;&#x27;Host: movie.douban.com</span></span><br><span class="line"><span class="string">Pargma: no-cache</span></span><br><span class="line"><span class="string">Referer: https://cn.bing.com/&#x27;&#x27;&#x27;</span></span><br><span class="line">dic=&#123;&#125;</span><br><span class="line">res=re.finditer(<span class="string">&#x27;(.*): (.*)&#x27;</span>,s)</span><br><span class="line"><span class="keyword">for</span> m <span class="keyword">in</span> res:</span><br><span class="line">    dic[m.group(<span class="number">1</span>)]=m.group(<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(dic)</span><br><span class="line"></span><br><span class="line"><span class="comment"># re.match()# 和re.search一样，但只能匹配开头</span></span><br><span class="line"><span class="comment"># re.fullmatch()# 匹配整体，从头到尾都必须符合</span></span><br><span class="line">phone_num1=<span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">tel:13335654872</span></span><br><span class="line"><span class="string">tel:14825556148</span></span><br><span class="line"><span class="string">tel:15554845489</span></span><br><span class="line"><span class="string">tel:16658151288</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">des</span>(<span class="params">m</span>):</span><br><span class="line">    tell=m.group(<span class="number">1</span>)</span><br><span class="line">    tell2=m.group(<span class="number">2</span>)</span><br><span class="line">    <span class="keyword">return</span> tell[:<span class="number">2</span>]+<span class="string">&#x27;***&#x27;</span>+tell2[-<span class="number">2</span>:]</span><br><span class="line"><span class="built_in">print</span>(re.sub(<span class="string">r&#x27;\b(?:13[0-9]|14[5-9]|15[0-35-9])\d&#123;8&#125;\b&#x27;</span>,<span class="string">&#x27;***&#x27;</span>,phone_num1))<span class="comment">#匹配到的替换，没有匹配到的不管</span></span><br><span class="line"><span class="built_in">print</span>(re.sub(<span class="string">r&#x27;\b(13[0-9]|14[5-9]|15[0-35-9])(\d&#123;8&#125;\b)&#x27;</span>,des,phone_num1))</span><br><span class="line"><span class="comment"># re.subn() #和 sub一样  多返回一个替换次数</span></span><br><span class="line">s=<span class="string">&#x27;xyg,- time,  !dog , cat&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(re.split(<span class="string">&#x27;\W+&#x27;</span>,s))<span class="comment"># 以匹配到的  为分隔符 分割</span></span><br><span class="line">res=re.<span class="built_in">compile</span>(<span class="string">&#x27;.*&#x27;</span>,flags=re.S)<span class="comment"># 创建一个正则表达式对象</span></span><br></pre></td></tr></table></figure>

<h3 id="10-logging日志管理"><a href="#10-logging日志管理" class="headerlink" title="10.logging日志管理"></a>10.logging日志管理</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"><span class="comment"># # 日志基本配置</span></span><br><span class="line">logging.basicConfig(</span><br><span class="line"><span class="comment"># 1、日志级别</span></span><br><span class="line">level=<span class="number">10</span>,</span><br><span class="line"><span class="comment"># DE<span class="doctag">BUG:</span>10,INFO:20,WARNING:30,ERROR:40,CRITICAL:50</span></span><br><span class="line"><span class="comment"># 2、日志输出格式</span></span><br><span class="line">        <span class="comment"># 当前时间    #日志名字  # 路径     #哪一行代码      #等级    #信息</span></span><br><span class="line"><span class="built_in">format</span>=<span class="string">&#x27;%(asctime)s %(name)s [%(pathname)s line:%(lineno)d] %(levelname)s %(message)s&#x27;</span>,</span><br><span class="line"><span class="comment"># 3、asctime的时间格式</span></span><br><span class="line">datefmt=<span class="string">&#x27;%Y-%m-%d %H:%M:%S&#x27;</span>,</span><br><span class="line"><span class="comment"># 4、日志输出位置：终端/文件</span></span><br><span class="line">filename=<span class="string">r&#x27;C:\Users\yjt\Desktop\b.log&#x27;</span><span class="comment"># 不指定此配置，默认打印到终端</span></span><br><span class="line">)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">%(name)s</span></span><br><span class="line"><span class="string">Logger的名字(getlogger时指定的名字)</span></span><br><span class="line"><span class="string">%(levelno)s 数字形式的日志级别</span></span><br><span class="line"><span class="string">%(levelname)s 文本形式的日志级别</span></span><br><span class="line"><span class="string">%(pathname)s 调用日志输出日志的完整路径名</span></span><br><span class="line"><span class="string">%(filename)s 调用日志输出日志的文件名</span></span><br><span class="line"><span class="string">%(module)s 调用日志输出日志的模块名</span></span><br><span class="line"><span class="string">%(funcName)s 调用日志输出日志的函数名</span></span><br><span class="line"><span class="string">%(lineno)d 调用日志输出函数的语句所在的代码行</span></span><br><span class="line"><span class="string">%(created)f 当前时间，用UNIX标准的表示时间的浮 点数表示</span></span><br><span class="line"><span class="string">%(relativeCreated)d 输出日志信息时的，自Logger创建以 来的毫秒数</span></span><br><span class="line"><span class="string">%(asctime)s 字符串形式的当前时间,默认格式是 “2022-07-30 22:15:53,394”</span></span><br><span class="line"><span class="string">%(thread)d 线程ID,可能没有</span></span><br><span class="line"><span class="string">%(threadName)s 线程名,可能没有</span></span><br><span class="line"><span class="string">%(process)d 进程ID,可能没有</span></span><br><span class="line"><span class="string">%(message)s 用户输出的消息</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">logging.debug(<span class="string">&#x27;调试日志&#x27;</span>)</span><br><span class="line">logging.info(<span class="string">&#x27;消息日志&#x27;</span>)</span><br><span class="line">logging.warning(<span class="string">&#x27;警告日志&#x27;</span>)</span><br><span class="line">logging.error(<span class="string">&#x27;错误日志&#x27;</span>)</span><br><span class="line">logging.critical(<span class="string">&#x27;严重错误日志&#x27;</span>)</span><br></pre></td></tr></table></figure>



<h2 id="py序列化"><a href="#py序列化" class="headerlink" title="py序列化"></a>py序列化</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 序列化：把内存中的数据类型转成一种特定格式，可用于存储，或传输给其他操作系统</span></span><br><span class="line"><span class="comment"># 内存中数据类型----&gt;序列化----&gt;特定格式（json/pickle）</span></span><br><span class="line"><span class="comment"># 内存中数据类型&lt;----反序列化&lt;----特定格式（json/pickle）</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 1.存档</span></span><br><span class="line"><span class="comment"># 2.跨平台数据交互，只能用json，pickle是python专用的，python和C++交互等，只能交互共有的数据类型</span></span><br><span class="line"><span class="comment"># json只能序列化都有的数据类型，python的集合不能进行序列化</span></span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line">dic=&#123;<span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;张大仙&#x27;</span>,<span class="string">&#x27;age&#x27;</span>:<span class="number">18</span>,<span class="string">&#x27;bool&#x27;</span>:<span class="literal">False</span>,<span class="string">&#x27;hobbies&#x27;</span>:[<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;2&#x27;</span>]&#125;</span><br><span class="line">json_res=json.dumps(dic,ensure_ascii=<span class="literal">False</span>)<span class="comment"># 默认为true，汉字使用Unicode表示，不影响序列化和反序列化</span></span><br><span class="line"><span class="built_in">print</span>(json_res,<span class="built_in">type</span>(json_res))</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">r&#x27;D:\1笔记\1.json&#x27;</span>,mode=<span class="string">&#x27;wt&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>)<span class="keyword">as</span> f:</span><br><span class="line"><span class="comment">#     f.write(json_res)</span></span><br><span class="line">    json.dump(dic,f)<span class="comment"># 直接写入</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">r&#x27;D:\1笔记\1.json&#x27;</span>,mode=<span class="string">&#x27;rt&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>)<span class="keyword">as</span> f:</span><br><span class="line"><span class="comment">#     json1=f.read()</span></span><br><span class="line"><span class="comment">#     dic=json.loads(json1)</span></span><br><span class="line"><span class="comment">#     print(dic,type(dic))</span></span><br><span class="line">    </span><br><span class="line">    jsonres=json.load(f)<span class="comment"># 直接读入</span></span><br><span class="line">    <span class="built_in">print</span>(jsonres)</span><br></pre></td></tr></table></figure>

<h2 id="py猴子补丁"><a href="#py猴子补丁" class="headerlink" title="py猴子补丁"></a>py猴子补丁</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在执行文件首次导入模块的时候，更改模块函数的内存地址</span></span><br><span class="line"><span class="comment"># 因为第一次已经加载到内存，后续所有用的地方都会从内存中加载，一次修改所有</span></span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> ujson<span class="comment"># 和json类似，但速度更快</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">monley_patch_json</span>():</span><br><span class="line">    json.__name__=<span class="string">&#x27;ujson&#x27;</span></span><br><span class="line">    json.dumps=ujson.dumps<span class="comment"># 后续使用json.dumps，使用使用的ujson.dumps</span></span><br><span class="line">    json.loads=ujosn.loads</span><br><span class="line">monley_patch_json()</span><br></pre></td></tr></table></figure>


    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/python/" rel="tag"># -python</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2023/04/25/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/opencv_dnn_%E6%8E%A8%E7%90%86%E5%8A%A0%E9%80%9F/" rel="prev" title="dnn推理">
                  <i class="fa fa-chevron-left"></i> dnn推理
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2023/05/10/%E6%95%99%E7%A8%8B/Anaconda%E4%BD%BF%E7%94%A8/" rel="next" title="anaconda">
                  anaconda <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">小袁</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.0/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>





  





</body>
</html>
